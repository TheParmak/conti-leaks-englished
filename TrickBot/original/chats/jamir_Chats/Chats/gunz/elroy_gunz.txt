[09.08.21 14:08:26] gunz:		привет,удобно?
[09.08.21 14:17:37] elroy:		Да
[09.08.21 14:17:44] elroy:		Привет
[09.08.21 14:22:56] gunz:		Слышал,ты с АВ на ты.Мне дали проект и попросили использовать дин импорты и реализации строковых функций,таким образом имеем пустую таблицу импортов.Это очень плохо сказывается на доверии к файлу.Хотел у тебя уточнить, как решал подробный вопрос,ведь я не могу брать с собой дефолт либы(нужен минимальный размер файла),но и такую таблицу держать не имеет смысла.
[09.08.21 14:26:58] elroy:		Я у себя решаю эту проблему так: у меня на каждый билд генерируется мусорный код, который не исполняется, просто лежит в мертвых ветках... При генерации этого кода генератор вставляет набор функций. Как результат - наращивается и таблица и есть вызовы к ней
[09.08.21 14:29:24] gunz:		но функции должны вызываться последовательно,логично,иначе ав не примет такой импорт
[09.08.21 14:31:32] elroy:		В таблице импорта не имеет значения порядок функций. Он не имеет ни какого отношения к порядку вызова функций.
Наоборот, если АВ лепит детект на таблицу с определнным порядком функций, это дает детект. Поэтому их надо перемешивать. Простой способ это сделать - случайная генерация кода, со случайными вызовами
[09.08.21 14:31:59] elroy:		Мы сейчас говорим о статических детектах, так?
[09.08.21 14:32:35] elroy:		В динамике имеет смысл порядок для работы приложения. Это должны быть прстые функции, не несущие особого смысла, например GetLastError()
[09.08.21 14:33:07] elroy:		Порядок вызова, но не порядок в талице импорта.
[09.08.21 14:37:04] gunz:		Не в таблице импорта,а непосредственно при динамическом анализе.Моя цель - обеспечить таблицу импорта необходимыми ей функциями и,при динамическом анализе,соблюсти логику при их вызове.Сможет ли твой трэшген справиться с этим?А я,исходя из ответа,оценю трудозатратность такого метода
[09.08.21 14:41:03] gunz:		если я в коде использую "простые" функции,то имеет смысл не вызывать их динамически?Или ты имел в виду использовать данные функции,но не соотносить их с основным кодом?
[09.08.21 14:41:19] elroy:		Трешген генерирует код, который не выполняется. Вызовы он лепит в невыполняющийся код, и как следствие формируется таблица, т.е. вызов к функции есть, табличка есть с именами, а функция никогда вызвана не будет.
Решения по динамике у меня пока нет.
Это решается двумя способами, в цикле случайно вызывается функция.
Второй способ - параллелится вызов разных функций в потоках. Например, ты точно знаешь что нужно выделить память в в трех местах и размер известен, если одно от другого не зависит - это можно сделать впараллель, т.е. написать такой вот обработчик вызовов. Это будет зашумливать динамику.
[09.08.21 14:43:01] elroy:		> если я в коде использую "простые" функции,то имеет смысл не вызывать их динамически?
Нет, это функции для видимости. Свои рабочие используй без прямого вызова. как и используешь. Тут разница в том, есть ссылка на таблицу или нет. Для твоих рабочих - не должно быть. А для тех, что создают видимость - должно быть
[09.08.21 14:44:18] gunz:		хорошо,спасибо
[09.08.21 14:44:34] elroy:		Ок, обращайся)
[25.08.21 18:42:35] elroy:		Привет
[27.08.21 07:36:42] gunz:		привет,не мог зайти почему-то вчера весь день на сайт,ты что-то хотел?
[27.08.21 07:37:35] elroy:		Приветствую. Да, вчера были технические проблемы.
Ты вчера писал 3 сообщения в том чате и пропал., они не пришли.
Я stout
[27.08.21 07:38:31] gunz:		ого,так ты еще и кодер))
[27.08.21 07:38:47] gunz:		сейчас отпралю,текст сохранял
[27.08.21 07:39:24] gunz:		Хочу внести ясность в ситуацию,в которую я попал.Я летом не отдыхал,в основном работал,сейчас хотел отпроситься на отпуск,но меня не отпустили.Организм сам так или иначе получит этот отдых(я буду много лежать,не будет сил на работу).Писать сильверу сейчас,что мне нужен больничный, я не стану,так как мне было категорически отказано в отдыхе,могут появиться подозрения,которые мне не нужны.В данный момент наступило то,о чем я тебе говорил выше - апатия.Это мой косяк,мне стоило заранее уточнить по срокам,не оставлять отпуск на последние дни лета.Не хочу подставлять человека,но против организма не попрешь,я не робот)
