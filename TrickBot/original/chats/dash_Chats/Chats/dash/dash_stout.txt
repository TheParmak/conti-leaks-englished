[16.06.21 10:01:23] dash:		Привет
[16.06.21 10:01:47] dash:		Сильвер сказал тебе показать исходный код)
[16.06.21 10:01:48] dash:		https://mega.nz/file/rU4UTAiC#ifsIzZepiw4vn3E75izDLg-1mCKyV6IfvkT8ivw4YjA
[16.06.21 10:01:57] dash:		Пароль: "w^kDfSx~+r#AmK6v" - без кавычек
[16.06.21 10:02:37] dash:		Стабы генерируются нормально пока что только в msvc2010
[16.06.21 10:02:57] stout:		Хорошо, посмотрю
[16.06.21 10:03:52] dash:		Я сделал пока что только для .exe и х32, без подмены родительского процесса и без обфускации строк
[16.06.21 10:04:09] stout:		Какая редакция студии? (professional или ...)
[16.06.21 10:04:28] dash:		Сам проект в msvc2019 enterprise
[16.06.21 10:04:48] dash:		А вот сами стабы компилируются в msvc2010 ultimate
[16.06.21 10:05:30] stout:		Ага, воттак. Ясно
[16.06.21 10:07:16] dash:		Я уже сгенирировал несколько стабов, ESET их не видит) могу скинуть, если надо)
[16.06.21 10:07:50] stout:		Как посмотрю детальнее, напишу тогда)
[16.06.21 10:07:58] dash:		Хорошо)
[16.06.21 13:10:13] stout:		Я просмотрел код. Детально не вчитывался. Сравнил с оригиналом, замеил ряд изменений. В чем отличие, что дополнил? Расскажи в двух словах, пожалуйста.
[16.06.21 13:25:56] dash:		Убрал второй слой шеллкода, вместо него там теперь только функция декомпрессии. Добавил GetApi с генерацией хешей при каждой компиляции с разным seed, payload загружается в svchost при помощи Process Hollowing ну и мелкие исправление криптера, потому что после добавления функции CreateProcessHollowing, он начал просто штамповать невалидные адреса или операции или сам отваливался)
[16.06.21 13:27:25] dash:		Осталось сделать обфускацию строк, поддержку х64 и .dll, а также подмену родительского процесса)
[16.06.21 13:31:39] dash:		Доступа к dyncheck у меня нет пока что, поэтому пользуюсь ESET NOD32 для проверки образцов, т.к. по моей статистике он самый поплуярный и часто довольно придирчивый
[16.06.21 13:33:16] stout:		Да. Ясно. Ну это только начало, навреное, это простой криптер. Дальше вероятно придется делать его по профилям - это такие себе дополнения под определенный тип нагрузки.
[16.06.21 13:34:20] dash:		А кто будет определять эти профили?
[16.06.21 13:35:43] stout:		С silver`ом это согласовывается. Я уточню, сообщу. Профили связаны с тем, что не вся нагрузка просто так разворачивается и работает. Бывают приколы.
[16.06.21 13:36:52] dash:		Понятно, хорошо. Я тогда дальше буду делать по ТЗ)
[16.06.21 13:37:32] stout:		Есть ли у тебя вопросы по тонкостям работы криптера?
[16.06.21 13:38:32] dash:		По началу были)) но со времени я стал понимать как всё там устроено, может быть не до конца, но пока что вопросов нет) если что, я спрошу)
[16.06.21 13:48:34] stout:		Хорошо. Главное понимание того что там происходит)
[09.07.21 09:25:12] dash:		https://mega.nz/file/nJ42TIoS#V5Pz3YsQrefZd7OtV2LdNloYoXqQkiHV4AEHgQ3vilo
```
r#c2]~]RnA4%?kvq
```
[09.07.21 09:26:06] dash:		Весь функционал того, что я делаю находится в StubFunctions .cpp/.h
[09.07.21 09:26:26] stout:		Хорошо, спасибо, буду смотреть)
[09.07.21 09:26:39] dash:		Последние дни пытался всё это сделать с оптимизацией, чтобы можно было обфускацию делать
[09.07.21 09:26:54] dash:		Но слишком много проблем всплыло, решил функционал доделать, потом отпимизацию включать)
[09.07.21 09:27:56] dash:		И еще вопрос, есть ли смысл делать функции стаба генерируемые с мусором? или можно их просто подключать отдельно и использовать?
[09.07.21 09:28:45] stout:		Есть смысл) Но уточни вопрос, сто именно имеешь введу?
[09.07.21 09:28:51] stout:		Какой пароль?
[09.07.21 09:28:56] dash:		r#c2]~]RnA4%?kvq
[09.07.21 09:29:36] dash:		В StubFunctions - функции создания процесса, подмены родителя, поиска нужного родителя и прочие функции
[09.07.21 09:29:40] dash:		Я про них)
[09.07.21 09:34:56] stout:		Я пока ответить не могу.. Я детальнее гляну..
Вообще, я сам использую два подхода:
1) генерируются функции и подключатся как два файла (.cpp и .h) - это мусор, выполнение в этот код никогда не передается, лежит для запутывания, имеет связи с реальным кодом.
2) берется файл с рабочим кодом, но в нем тегами в комментах помечены области, которые есть. Этот файл оборачивается кодом. Из него выделяются блоки, указанные тегами, они потом оборачиваются кодом, который делит все выполение на две ветки - живой и не живой код.
Такая практика хорошо помогает отбиться от детектов, каждый раз по-новому генерируется код...
[09.07.21 09:43:41] dash:		1) А разве статический анализ не высечет их из ветки вызовов и анализа? этот код ведь никогда выполнится
2) Этот вариант выглядит более перспективным по моему мнению)
[09.07.21 09:46:05] stout:		Эти методы вместе работают)
[09.07.21 09:46:12] stout:		А первый вопрос не понял
[09.07.21 09:58:11] dash:		Теперь понятно всё) вопросов нет))
[09.07.21 10:03:56] stout:		Вот для борьбы сдетектами по эмуляции помогает. По моим наблюдениям, АВ ведет выполнение кода по всем возможным веткам, сколько у него получится. Стакой схемой он попадает в мусорный код тоже, а там у меня действительно полный треш, там циклические вызовы функций между собой, там деление на ноль (судя по варнингам при компиляции). Короче он уходит по этим веткам в лес, там и остается, у него выходит время на проверку))
[09.07.21 10:04:11] stout:		Такая багофича получилась с мусорным кодом...
[09.07.21 10:30:32] dash:		Понял) со временем наверное надо будет тоже что-нибудь такое сделать)
[13.07.21 10:20:48] stout:		Привет
[13.07.21 10:23:04] stout:		Надо начать отр сессию
[22.07.21 07:36:12] dash:		Привет
[22.07.21 07:36:14] dash:		dashbyte@jabber.ru
[22.07.21 07:36:40] stout:		Привет
[22.07.21 07:36:44] stout:		спасибо
[22.07.21 12:34:05] dash:		Привет, не подскажешь, есть ли способ измерить длину ассемблеровской инструкции без прикручивания сторонних библиотек?
[09.08.21 09:18:30] stout:		На месте?
[09.08.21 09:27:26] dash:		Привет, да
[09.08.21 09:28:17] stout:		Скажи, а что у тебя по готовности криптера в целом?
[09.08.21 09:31:24] dash:		Пока сделано только для exe + Process Hollowing + подмена родителя, сейчас делаю для dll
[09.08.21 09:33:44] dash:		Кстати, программы которые мы будем в стаб запихивать - они будут всегда релизной сборки?
[09.08.21 09:35:37] stout:		Да, в основном всегда
[09.08.21 09:36:00] stout:		Можешь дать прогноз готовности релиза по времени, приблизительно?
[09.08.21 09:45:13] dash:		До двух недель примерно)
[09.08.21 09:50:34] dash:		Есть какие-то сроки или требования по окончанию проекта?
[09.08.21 09:52:38] stout:		Если эта задача требует 2 недели, уставновленный срок в 1 неделю ускорит процесс?))
[09.08.21 09:53:25] stout:		Срока пока нет, мне просто надо знать время готовности...
[09.08.21 09:55:10] dash:		[ ](https://ojdglzhrquash4igbx6e6wlthe3si4biabcpfopiw33uohvaufjgipad.onion/direct/iNK9NEAR6t3bmyNNyunDszmNmuyEcYiJCZ?msg=Cdsino6nEGkK7dqgz) 2 недели - это с малым запасом, на всякий случай) а в целом, если нужно быстрее, конечно это можно сделать, вечернее время и выходные еще есть)
[09.08.21 09:56:13] stout:		Не, выходные не трогай, претензий по работе нет, нет смысла работать в выходные
[09.08.21 09:57:32] stout:		Это если бы сроки были обоначены и срок бы горел, ну тогда да.. А так, просто нужно знать.
Просьба такая, сделать сначала рабочу версию с exe, потом наращивать dll
[09.08.21 09:57:41] stout:		Т.е. чтобы можно было выпустить версию с exe
[09.08.21 09:58:18] stout:		Версию с exe когда сможешь выпустить?
[09.08.21 10:01:26] dash:		В течение двух дней
[09.08.21 10:02:26] stout:		Хорошо, тогда выпусти сначала версию с exe и описанием как криптовать (без воды желательно), потом занимайся dll.
[09.08.21 10:02:51] stout:		У себя 12 ставлю срок сдачи exe
[09.08.21 10:03:49] stout:		Это не официальный срок сдачи проекта, это дата когда я жду exe криптер, если что-то пойдет не так - не смертельно. Но будем ориентироваться на эту дату
[09.08.21 10:04:22] stout:		Скажи, чем раньше занимался, до работы тут?
[09.08.21 10:04:56] stout:		Интересуют навыки, места работы не интересуют
[09.08.21 10:06:31] dash:		10 лет писал античит систему)
[09.08.21 10:07:48] stout:		Работал один?
[09.08.21 10:10:20] dash:		Да, это был мой продукт. Было желание с кем-то разрабатывать вместе, потому что иногда не хватало времени, но так и не смог решиться поделиться с кем-то своим кодом, который писал годами)
[09.08.21 10:10:46] stout:		Понимаю)
[09.08.21 10:11:21] stout:		В основном работал с системны и сплюсами, с вебом никак не работал?
[09.08.21 10:11:46] stout:		Что-то из скриптов знаешь?
[09.08.21 10:14:12] dash:		Да, клиентская часть на C по большей части, сервер на Qt. Насчет веб - php знаю, не сильно, но достаточно, чтобы разобраться)
[09.08.21 10:14:28] dash:		Со скриптами не работал
[09.08.21 10:15:35] stout:		А со scrum не был знаком?
[09.08.21 10:17:32] dash:		Не-а) я же один был, а так примерно предпологаю, что это такое)
[09.08.21 10:17:48] stout:		Ясно)
[09.08.21 10:17:59] stout:		Хорошо. Жду криптер в чт.
[09.08.21 10:18:28] dash:		:handshake:
[10.08.21 15:16:00] dash:		Привет, наверное поэтому ты спрашивал про скрипты вчера)
[10.08.21 15:16:08] dash:		Этот скрипт в PowerShell выполняется?
[10.08.21 15:21:03] stout:		Не вижу сообщения, повтори пожалуйста
[10.08.21 15:21:14] dash:		Привет, наверное поэтому ты спрашивал про скрипты вчера)
[10.08.21 15:21:17] dash:		Этот скрипт в PowerShell выполняется?
[10.08.21 15:21:54] stout:		Спрашивал по другой причине. Это совпадение, задачка от silver пришла..
[10.08.21 15:22:05] stout:		Да, это похожу powershell
[10.08.21 15:23:00] stout:		Там нужен любой, но скрипт, что-то из системных скриптов, powershell, cmd (bat), может js
[10.08.21 15:23:26] dash:		Понятно, спасибо)
[11.08.21 14:09:16] dash:		Привет, я скорее всего не успею до вечера под PowerShell переделать, надеюсь в этом нет ничего критичного?
[11.08.21 14:10:41] stout:		Нет, критичного нет. Привет. Скинь завтра тогда
[11.08.21 14:10:42] dash:		Лог файл у Eset не сложный, но из-за того, что я не особо знаю этот язык скрипта, банальные моменты выливаются в сложные
[12.08.21 00:15:20] dash:		Привет, доделал наконец) начитался, насмотрелся кода в PowerShell - стало проще и понятно что делать)
[12.08.21 00:15:45] dash:		
[12.08.21 00:18:00] dash:		```
Пример результата скрипта:
0;2021-08-11T01:07:13.243;C:\1.txt;@Teststring.Eicar;DESKTOP-AQB43FA\Test;D:\Notepad\Notepad2.exe
1;2021-08-11T01:08:18.512;C:\2.txt;@Teststring.Eicar;DESKTOP-AQB43FA\Test;D:\Notepad\Notepad2.exe
2;2021-08-11T01:08:30.754;C:\3.txt;@Teststring.Eicar;DESKTOP-AQB43FA\Test;D:\Notepad\Notepad2.exe

Поддерживаемые поля вывода:
  Номер записи
  Время обнаружения
  Обнаруженный объект
  Тип вируса
  Имя пользователя
  Имя программы (или процесс) в котором произошло обнаружения вируса
```
[12.08.21 00:19:21] dash:		Если нужно будет что-то переделать или доделать - пиши)
[12.08.21 09:15:57] stout:		Привет, спасибо
[16.08.21 09:33:40] dash:		Привет, мне нужно ещё несколько дней, в некоторых случаях релокация неправильно производится у crt нагрузок
[16.08.21 09:34:30] dash:		Я вроде бы все исправил, но хочется все проверить
[16.08.21 09:37:26] stout:		Хорошо, проверяй
[16.08.21 09:37:30] stout:		Привет)
[25.08.21 16:30:26] stout:		Привет
[26.08.21 08:02:44] dash:		Привет, извини что задерживаю релиз, я помню, я немного переживаю насчет релиза и постоянно тестирую + хочу уменьшить количество брака, сегодня скину)
[26.08.21 09:01:30] stout:		Привет. Скажи, обращался ли к тебе zanzi по поводу криптера? Скидывал ли ты ему что-то из своих наработок?
[26.08.21 09:04:56] dash:		Не-а, zanzi не обращался, fish только пишет изредка спрашивает советы)
[26.08.21 09:05:22] stout:		Можешь мне скинуть код в том виде, в котором он есть сейчас?
[26.08.21 09:05:28] stout:		Или в гите свежая версия?
[26.08.21 09:06:22] dash:		В гит свежую еще не заливал, да, сейчас скину)
[26.08.21 13:21:06] stout:		Долго скидываешь))
[26.08.21 14:53:42] dash:		Ох, начал готовить и забыл)
[26.08.21 14:53:53] dash:		Я залил на гит, но могу и скинуть, как удобнее будет?
[26.08.21 14:54:39] stout:		Пусть в гите будет
[26.08.21 14:54:43] stout:		Спасибо, посмотрю
[26.08.21 14:54:49] stout:		Он еще не умеет криптовать?
[26.08.21 14:56:13] dash:		х32 хорошо криптует, х64 еще есть косячки)
[26.08.21 14:56:32] dash:		Я еще хотел спросить про readme, его нужно на англ. языке писать?
[26.08.21 14:57:14] stout:		Да, но основное. Т.е. что требуется чтобы собрать, инструкцию по сборке, по крипту.
[26.08.21 14:57:29] stout:		написать usage еще
[26.08.21 14:57:37] stout:		Без лишнего, самое основное
[26.08.21 14:57:57] dash:		Понятно, а эти криптеры что мы делаем, будут где-то использоваться или всё-же это обучение?
[26.08.21 14:58:18] stout:		Я не могу ответить однозначно
[26.08.21 14:58:51] stout:		То что обучение, это точно, так и есть. А вот будут или нет - это вопрос.
[26.08.21 14:59:29] dash:		А ты знаешь для чего каждому нужно сделать свой криптер?
[26.08.21 14:59:34] dash:		Или это только сильвер знает?
[26.08.21 15:00:03] stout:		Это такое тестовое задание, наверное.
[26.08.21 15:00:25] stout:		Смотрим кто как работает
[26.08.21 15:01:23] dash:		Понятно, хорошо)
[26.08.21 15:06:29] stout:		+ обучение
[26.08.21 15:07:30] dash:		Ну это точно) тут немного другой опыт, с другой стороны, чем тот, что я получал при разработке античита, но в целом, всё очень похоже)
[26.08.21 15:10:09] stout:		Я отвечал, когда ты спрашивал. Это оно только пришло))
[26.08.21 15:10:15] stout:		Еще одно сообщение вообще не пришло
[26.08.21 15:11:12] stout:		Я писал
 Это такое тестовое задание, наверное.
+ обучение
Смотрим кто как работает
Смотрим вот на такой задаче
[02.09.21 12:49:04] dash:		Кстати, а что с криптером? работа над ним приостановлена?
[02.09.21 12:51:00] stout:		Да, пока локер в приоритете. Если вдруг появятся идеи по криптру, не отбрасывай, запиши...
Через время понадобится вернуться к к риптеру, возможно. Все по нему забудется. Поэтому надо его законсервировать, сделать какие-то пометки, описание, чтобы потом можно быдло к нему проще вернуться
[02.09.21 12:51:41] stout:		Или чтобы можно было передать другому кодеру, например
[02.09.21 12:55:28] dash:		Хорошо)
[02.09.21 13:35:26] dash:		`- Соответствие с требованиями в "оформлении кода и сборок"
Сюда относятся оформление программы как dll, а также наличие точки входа для Cobalt Strike`
[02.09.21 13:35:52] dash:		Получается локер-анлокер - это .exe с тестовой запускалкой?
[02.09.21 13:36:13] dash:		И там нужна точка входа Start от Cobalt Strike верно?
[02.09.21 13:37:29] stout:		похоже что это dll для запуска cobalt strike. Знаком с ним?
[02.09.21 13:38:13] dash:		Не-а, просто узнал какую точку входа нужно сделать)
[02.09.21 13:38:56] stout:		Я сам точно не знаю. Надо уточнить что там делается..
[02.09.21 13:39:10] stout:		Попробую на днях еще у одного кодера уточнить
[02.09.21 13:44:17] dash:		Может сильвер знает, что это должно быть exe или dll?
[02.09.21 13:45:11] stout:		У нас проекты в основном все имеют и exe и dll сборку
[02.09.21 13:45:16] stout:		Обычно это не проблема)
[02.09.21 13:46:45] stout:		Просто все кто пускает наш софт в работу, обычно каждый пускает по своему, поэтому на один проект много конфигураци бывает
[02.09.21 13:46:50] stout:		Бывает разные dll даже
[02.09.21 13:49:08] dash:		Понятно) буду тогда локер делать в виде .exe, потом переделаю если что, надо будет с фишем еще сработаться, ниразу в команде не работал, сложно представляется как будет вестись работа двух разных программистов, с разными стилями кода и прочим, над одним проектом)
[02.09.21 13:49:53] stout:		Я для этого есть)))
[02.09.21 13:50:10] stout:		А вообще, делается общий скелет с заглкушками, проект бьется на части
[02.09.21 13:50:50] stout:		Каждый кодер пишет модуль и делает его по интерфейсу совместимым с разработанной архитектурой
[02.09.21 13:51:10] stout:		Интерфейс иногда подправляется, но не самостоятельно кодером, а по согласованию
[02.09.21 13:52:07] stout:		А вот по стилю требования бывают разные. Крупные компании вводят правила жесткие по стилю, касающиеся каждого
[02.09.21 13:52:25] stout:		Потом программист код сдает техническому контролеру
[02.09.21 13:52:26] stout:		Потом в проект
[02.09.21 13:52:41] stout:		Командная работа в основном вся зависит от гита
[02.09.21 13:52:47] stout:		Нет гита - нет работы)
[02.09.21 13:52:58] stout:		Скелет помещается в ветку develop
[02.09.21 13:53:41] stout:		Делаешь модуль - делаешь ответвление от ветки девелоп, дописываешь модуль, тимлид вливает ветку в девелоп.
[02.09.21 13:53:55] stout:		Пока ты пишешь, другой кодер пользуется заглушкой
[02.09.21 13:54:15] stout:		Так и 7 и 100 кодеров могут работать над одним проектом
[02.09.21 13:55:19] dash:		Вроде понятно, но надо будет на деле начать делать, там будет всё виднее)
[02.09.21 13:55:43] dash:		Я уже создал проект на нашем репозитории, туда нужно будет фиша добавить?
[02.09.21 13:56:02] stout:		Согласен. Но скелет общий должен быть, у всех, актуальный) Поэтому сначала делается он, по всеообщему согласованию)
[02.09.21 13:56:15] stout:		Да, добавляй, и меня тоже
[09.09.21 12:21:38] dash:		Привет, Фиш получается больше не разрабатывает со мной криптолокер?
[09.09.21 12:30:23] stout:		Привет. Да, он нервно отказался.
[09.09.21 12:30:55] stout:		Надо продумать архитектуру.
[09.09.21 12:31:04] stout:		Добавим другого кодера
[09.09.21 12:31:26] dash:		Хорошо)
[09.09.21 12:33:19] stout:		Сделай наброски архитектуры, я дополню
[09.09.21 12:34:49] dash:		Постараюсь)
[11.10.21 09:51:38] dash:		Привет) с возвращением!) рад, что ты выздоровел)
[11.10.21 09:53:11] stout:		Привет. Спасибо.
[11.10.21 09:53:26] stout:		Извени что архитектуру так и не собрали (скелет). Как-то не успел
[11.10.21 09:55:02] dash:		Всё в порядке) я сейчас разбираюсь с сетевым поиском и обработкой файлов)
[11.10.21 09:55:50] stout:		Я прочел, что ты кусочки пробовал. Это хорошо. Соберем их на скелете
[11.10.21 09:56:05] stout:		Чуть позже только)
[11.10.21 09:57:31] dash:		Хорошо)
[26.10.21 08:06:39] stout:		Привет. Как успехи?
[26.10.21 10:59:36] dash:		Привет) всё идет хорошо) разобрался с сетевым поиском компьютеров и шаров, как я думаю, это одно из самых важных, остальное полегче и побыстрее делается, мы с сильвером говорили и пришли к тому, что на хеллоуин я постараюсь первую бету сделать)
[26.10.21 11:19:35] stout:		Хорошо)
[28.10.21 10:14:06] dash:		Привет
[28.10.21 10:21:01] dash:		Как будешь тут - отпишись, пожалуйста
[03.11.21 07:16:38] stout:		Привет
[03.11.21 07:17:03] stout:		Я отписался silver о том, что ты на больничном, он не знал..
[03.11.21 07:18:06] stout:		Да, он сказал что не знал.
[03.11.21 07:18:19] stout:		Да многие кодеры болеют, к сожалению... Почти по очереди
[03.11.21 07:18:34] stout:		Никаких проблем.
[03.11.21 07:18:37] stout:		Лечись)
[03.11.21 07:19:25] stout:		Не светись в больнице с работой...
[03.11.21 07:19:30] stout:		Иди отдыхай)
[09.11.21 03:21:08] dash:		Привет, пока ещё жив)) но не здоров до конца, на КТ обнаружили 60% поражения лёгких, лежу в больнице лечусь, надеюсь скоро в строю буду, берегись, эта корона реально страшная штука, в такие моменты прям понимаешь, что можешь умереть только так..
[18.11.21 15:26:27] stout:		Привет
[18.11.21 17:26:03] dash:		Привет)
[18.11.21 17:26:24] stout:		С возвращением
[18.11.21 17:26:35] dash:		Спасибо)
