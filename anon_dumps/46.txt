

    Vampir
    Новые темы
    Новые ответы

    Начало
    Помощь
    Поиск
    Профиль
    Личные сообщения
    Пользователи

Monica Bellucci Fan Club

    Monica Bellucci Fan Club »
    Software and Technologies »
    Backup Solutions »
    ShadowProtect SPX (StorageCraft)

ShadowProtect SPX (StorageCraft)
cybercat · 1 · 25
« предыдущая тема следующая тема »

Страницы: 1
cybercat

    Users
    Member
    *
        3
        Просмотр профиля E-mail Личное сообщение (Оффлайн) 

: Марта 01, 2021, 07:07:03 pm
Записан

Получение доступа к серверу с бекапами Shadow Protect SPX (StorageCraft)
==
1. Заходим по RDP на один из серваков, в моем случае это SQL сервер.
2. на рабочем столе видим иконку софтины ShadowProtect SPX
   -> кликаем на нее
3. открывается gui (если запросит креды, вводим те под которыми зашли по рдп, или любого иного ДА)
4. Слева в блоке "Job Summary" видим подробное описание схемы бекапов
   в поле "Name" - название бекапа нашего сервера
   в поле "Destination" - место КУДА наш spx складывает бекапы, в виде ИМЯ_БА_СЕРВАКА (ШАРА С БЕКАПОМ НА ЭТОМ СЕРВАКЕ)
      из нашего примера можем сделать вывод что все бекапы сохраняются в шару с названием StorageCraft, а папки с бекапами серверов именуются названием самого сервера.
5. Зная имя бекап сервера, мы хотим получить больше представления о его структура, первым делом получаем шары командой "cmd.exe> net view \\COH-DSS3 /ALL", в ответ получаем "Error 5: Access Denied"
6. Доступа нету, пробуем стучаться учетками другими ДА - ответ тот же - ошибка н 5, логично будет предположить, что чтобы получить доступ к серверу нам нужны либо креды локального админа на этом самом серваке, либо же аккаунт особого пользователя с выделенными правами
7. Предположим что если это выделенный юзер, то он имеет схожее с софтиной\функцией имя:
   перебираем логины с вхождением подстрок(тут нам нужно включить фантазию):
      Storage
      Shadow
      Protect
      Craft
      SP
      SPX
      Backup
      BUUser
      И Т.Д.
   после чего делаем поиск по ntds.dit (hashes.txt.ntds) для поиска хеша, в моем случае поиск завершился успехом и я нашел юзера Humanity.local\SPAdmin (думаю тут ясно что это Shadow Protect Admin) и его хеш ce31b806821bec116ba03132ab5b3138, НО к сожалению поиск на cmd5.org не дал результата, а мне позарез нужен клирпас. (Если вам хватает хеша, то поздравляю - вы достигли результата)
8. Но если все же вам нужен клирпас или вы не смогли найти подходящего юзера, мы поймем что если софтина как то стучиться на сервак то креды ей известны, а значит они могли остаться на сервере.
   Пробуем сделать дамп хешей
   тут подробно расписывать не буду как это сделать, но вы должны попробовать hashdump(и его легитимные аналоги) и logonpasswords(и аналоги)
   В моем случае я воспользовался мимиком и сдампил лсасс, в котором нашел клирпас от моей учетки SPAdmin -         kerberos :
         * Username : SPAdmin
         * Domain   : COHBackup
         * Password : Backup!User
    (в моем случае почему то домен был не Humanity.local а COHBackup, хотя вы можете постучаться и с Humanity.local(заменить на свое значение))
9. Переходим в проводник, и открываем через него необходимую шару "\\COH-DSS3\StorageCraft" у меня запрашивает креды, я ввожу COHBackup\SPAdmin и Backup!User и успешно получаю доступ
10. Так же в некоторых сетках бекап серверов может быть несколько, как вариант проверить это, это нажать на кнопку Backup в левом верхнем углу гуи(сразу после File) далее - Destinations -> и увидим какие есть пути для сохранения бекапов
===
Не уверен что этот метод подойдет всем, но в моем кейсе это помогло, удачи!

Страницы: 1

    Monica Bellucci Fan Club »
    Software and Technologies »
    Backup Solutions »
    ShadowProtect SPX (StorageCraft)

Перейти в:
 
+ Быстрый ответ

    SMF 2.0.18 | SMF © 2020, Simple Machines
    Разработанно с от SychO


